[{"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\index.js":"1","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\App.js":"2","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\Route.js":"3","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Home.js":"4","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Preview.js":"5","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\config.js":"6","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Image.js":"7","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Edit.js":"8","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Modal.js":"9","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Login.js":"10","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Navbar.js":"11","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\index.js":"12","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\AdminRoute.js":"13","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Dropdown.js":"14","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\MaterialNavbar.js":"15","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Tab.js":"16","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\LightBox.js":"17","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\index.js":"18","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\Route.js":"19","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Home.js":"20","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Image.js":"21","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Preview.js":"22","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Login.js":"23","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\AdminRoute.js":"24","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Edit.js":"25","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\config.js":"26","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\LightBox.js":"27","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\index.js":"28","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\Modal.js":"29","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\MaterialNavbar.js":"30"},{"size":225,"mtime":1609907645228,"results":"31","hashOfConfig":"32"},{"size":104,"mtime":1609907290391,"results":"33","hashOfConfig":"32"},{"size":949,"mtime":1610767624074,"results":"34","hashOfConfig":"32"},{"size":5826,"mtime":1610959933483,"results":"35","hashOfConfig":"32"},{"size":4366,"mtime":1611132791389,"results":"36","hashOfConfig":"32"},{"size":51,"mtime":1610008253897,"results":"37","hashOfConfig":"32"},{"size":1499,"mtime":1611127396424,"results":"38","hashOfConfig":"32"},{"size":14418,"mtime":1611115696902,"results":"39","hashOfConfig":"32"},{"size":1230,"mtime":1610093075506,"results":"40","hashOfConfig":"32"},{"size":2414,"mtime":1610683295879,"results":"41","hashOfConfig":"32"},{"size":3769,"mtime":1610681842119,"results":"42","hashOfConfig":"32"},{"size":276,"mtime":1610617135439,"results":"43","hashOfConfig":"32"},{"size":450,"mtime":1610614804265,"results":"44","hashOfConfig":"32"},{"size":1008,"mtime":1610615154861,"results":"45","hashOfConfig":"32"},{"size":3826,"mtime":1610698511856,"results":"46","hashOfConfig":"32"},{"size":1965,"mtime":1610947872730,"results":"47","hashOfConfig":"32"},{"size":1636,"mtime":1611133343170,"results":"48","hashOfConfig":"32"},{"size":225,"mtime":1611207157827,"results":"49","hashOfConfig":"50"},{"size":920,"mtime":1611207157813,"results":"51","hashOfConfig":"50"},{"size":5641,"mtime":1611207157823,"results":"52","hashOfConfig":"50"},{"size":1448,"mtime":1611207157824,"results":"53","hashOfConfig":"50"},{"size":4205,"mtime":1611207157826,"results":"54","hashOfConfig":"50"},{"size":2331,"mtime":1611207157825,"results":"55","hashOfConfig":"50"},{"size":433,"mtime":1611207157814,"results":"56","hashOfConfig":"50"},{"size":13974,"mtime":1611207157822,"results":"57","hashOfConfig":"50"},{"size":50,"mtime":1611207157821,"results":"58","hashOfConfig":"50"},{"size":1579,"mtime":1611207157816,"results":"59","hashOfConfig":"50"},{"size":263,"mtime":1611207157815,"results":"60","hashOfConfig":"50"},{"size":1187,"mtime":1611207157819,"results":"61","hashOfConfig":"50"},{"size":3693,"mtime":1611207157818,"results":"62","hashOfConfig":"50"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"1v4cli3",{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"65"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"65"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"65"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"65"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"65"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"65"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},"42t9c",{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"111"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"111"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"111"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"111"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"111"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"111"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"111"},"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\index.js",[],["144","145"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\App.js",[],["146","147"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\Route.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Home.js",["148","149","150"],"import React, { useState, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\n\r\nconst Home = () => {\r\n  const [values, setValues] = useState({\r\n    web_name: '',\r\n    web_url: '',\r\n    web_details: '',\r\n    files: '',\r\n    zip: '',\r\n  });\r\n\r\n  const { web_name, web_details, web_url, files, zip } = values;\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    for (const name in values) {\r\n      if (name === 'files') {\r\n        for (let i = 0; i < values.files.length; i++) {\r\n          formData.append(name, values.files[i]);\r\n        }\r\n      }\r\n      if (name === 'zip') {\r\n        for (let i = 0; i < values.zip.length; i++) {\r\n          formData.append(name, values.zip[i]);\r\n        }\r\n      }\r\n      formData.append(name, values[name]);\r\n    }\r\n    Axios.post(`${API}/insert`, formData).then((data) => {\r\n      toast.dark('Upload Successful', { closeOnClick: true, autoClose: 1000 });\r\n    });\r\n    setValues({\r\n      ...values,\r\n      web_name: '',\r\n      web_url: '',\r\n      web_details: '',\r\n      files: '',\r\n    });\r\n    // const preview = document.getElementById('imgPre');\r\n    // for (let i = 0; i < preview.innerHTML.length; i++) {\r\n    //   preview.parentNode.removeChild(preview);\r\n    // }\r\n    // console.log(preview.innerHTML.length);\r\n\r\n    // const elem = document.querySelector('#image_preview');\r\n    // elem.parentNode.removeChild(elem);\r\n    // const imgDiv = document.createElement('img');\r\n    // imgDiv.setAttribute('id', 'image_preview');\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 2000);\r\n  };\r\n\r\n  const handleFiles = (event) => {\r\n    event.preventDefault();\r\n    const total_file = document.getElementById('image').files.length;\r\n    for (let i = 0; i < total_file; i++) {\r\n      const img = document.createElement('img');\r\n      img.setAttribute('id', 'imgPre');\r\n      img.style.width = '150px';\r\n      img.src = URL.createObjectURL(event.target.files[i]);\r\n      const imgId = document.getElementById('image_preview');\r\n      imgId.appendChild(img);\r\n    }\r\n    setValues({ ...values, files: event.target.files });\r\n    console.log(event.target.files);\r\n  };\r\n\r\n  const handleZip = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, zip: event.target.files });\r\n    console.log(event.target.files);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MaterialNavbar />\r\n      <div className=\"container my-5\">\r\n        <div id=\"image_preview\" className=\"d-flex flex-row\"></div>\r\n        <form onSubmit={submitForm} encType=\"multipart/form-data\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n              ชื่อเว็บไซต์\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"w_name\"\r\n              id=\"w_name\"\r\n              className=\"form-control\"\r\n              value={web_name}\r\n              required\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_name: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\r\n              Link URL\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              name=\"w_url\"\r\n              id=\"w_url\"\r\n              className=\"form-control\"\r\n              required\r\n              value={web_url}\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_url: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formFile\" className=\"form-label\">\r\n              รูปภาพ\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"image\"\r\n              name=\"image\"\r\n              className=\"form-control\"\r\n              multiple\r\n              onChange={handleFiles}\r\n              accept=\"image/*\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formFile\" className=\"form-label\">\r\n              Zip\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"zip\"\r\n              name=\"zip\"\r\n              className=\"form-control\"\r\n              multiple\r\n              onChange={handleZip}\r\n              accept=\".zip,.rar,.7zip\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">\r\n              คำอธิบาย\r\n            </label>\r\n            <textarea\r\n              input\r\n              type=\"text\"\r\n              name=\"w_details\"\r\n              id=\"w_details\"\r\n              className=\"form-control\"\r\n              required\r\n              value={web_details}\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_details: e.target.value })\r\n              }\r\n            ></textarea>\r\n          </div>\r\n          <input\r\n            className=\"btn btn-dark\"\r\n            style={{ marginRight: '5px' }}\r\n            value=\"อัพโหลด\"\r\n            type=\"submit\"\r\n          />\r\n          <Link to=\"/preview\">\r\n            <button className=\"btn btn-primary mr-2\">ดูข้อมูลทั้งหมด</button>\r\n          </Link>\r\n          <Link to=\"/\" onClick={() => window.location.reload()}>\r\n            <button className=\"btn btn-danger\">ล้าง</button>\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Preview.js",["151","152","153","154"],"import React, { useState, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport moment from 'moment';\r\nimport { API } from '../config';\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Modal from '../componenets/Modal';\r\nimport { Grid, _ } from 'gridjs-react';\r\nimport 'gridjs/dist/theme/mermaid.css';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport LightBox from '../componenets/LightBox';\r\n\r\nconst Preview = () => {\r\n  const [dataRow, setdataRow] = useState([]);\r\n  const [image, setImage] = useState([]);\r\n\r\n  const init = () => {\r\n    Axios.get(`${API}/list`).then((result) => {\r\n      setdataRow(result.data);\r\n    });\r\n    Axios.get(`${API}/image`).then((result) => {\r\n      setImage(result.data);\r\n    });\r\n  };\r\n\r\n  const gotoURL = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  console.log(dataRow);\r\n\r\n  const handleDelete = (link) => {\r\n    Axios.delete(`${API}/delete`, { data: { deleteId: link } }).then((data) => {\r\n      console.log(link);\r\n      toast.success('Delete Successful', {\r\n        closeOnClick: true,\r\n        duration: 1500,\r\n      });\r\n      init();\r\n    });\r\n  };\r\n\r\n  const dataArray = [];\r\n  dataRow.map((e) => {\r\n    dataArray.push([\r\n      e.web_id,\r\n      _(\r\n        <LightBox img={e.img_path} webId={e.web_id} />\r\n        // e.img_path ? (\r\n        //   <a href={`/image/${e.web_id}`}>\r\n        //     <img\r\n        //       src={`${process.env.PUBLIC_URL}/assets/${e.img_path}`}\r\n        //       style={{ width: '50px' }}\r\n        //     />\r\n        //   </a>\r\n        // ) : (\r\n        //   'ไม่มีรูปแสดง'\r\n        // )\r\n      ),\r\n      e.web_name.slice(0, 20),\r\n      e.web_url.slice(0, 30),\r\n      e.web_details.slice(0, 30),\r\n      moment(e.timestamp).format('lll'),\r\n      _(\r\n        e.zip_path !== null ? (\r\n          <img\r\n            style={{ width: '30px' }}\r\n            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\r\n            onClick={() =>\r\n              window.open(`${process.env.PUBLIC_URL}/zip/${e.zip_path}`)\r\n            }\r\n            type=\"submit\"\r\n          />\r\n        ) : (\r\n          'No'\r\n        )\r\n      ),\r\n      _(\r\n        <div className=\"ml-1\">\r\n          <button\r\n            onClick={() => gotoURL(e.web_url)}\r\n            className=\"btn btn-success p-1\"\r\n          >\r\n            <i className=\"fas fa-external-link-alt\"></i>\r\n          </button>\r\n          <a href={`/image/${e.web_id}`}>\r\n            <button className=\"btn btn-warning  p-1\">\r\n              <i className=\"fas fa-clone\"></i>\r\n            </button>\r\n          </a>\r\n          <a href={`/edit/${e.web_id}`}>\r\n            <button className=\"btn btn-primary  p-1\">\r\n              <i className=\"fas fa-pen\"></i>\r\n            </button>\r\n          </a>\r\n          <Modal\r\n            deleteLink={handleDelete}\r\n            LinkId={e.web_id}\r\n            linkName={e.web_name}\r\n          >\r\n            <button className=\"btn btn-danger  p-1\">\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n          </Modal>\r\n        </div>\r\n      ),\r\n    ]);\r\n  });\r\n\r\n  // const data = {\r\n  //   columns: [\r\n  //     { label: 'id', field: 'web_id', sort: 'asc' },\r\n  //     { label: 'name', field: 'web_name', sort: 'asc' },\r\n  //     { label: 'url', field: 'web_url', sort: 'asc' },\r\n  //     { label: 'details', field: 'web_details', sort: 'asc' },\r\n  //     { label: 'createdAt', field: 'createdAt', sort: 'asc', width: 150 },\r\n  //     { label: 'Action', field: 'action', sort: 'asc' },\r\n  //   ],\r\n  //   rows: dataArray,\r\n  // };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"m-2\">\r\n        {/* <MDBDataTable\r\n        className=\"mt-5\"\r\n        striped\r\n        bordered\r\n        small\r\n        data={data}\r\n        responsive={true}\r\n      /> */}\r\n        <Grid\r\n          data={dataArray}\r\n          columns={[\r\n            'id',\r\n            'image',\r\n            'name',\r\n            'url',\r\n            'details',\r\n            'createdAt',\r\n            'Zip',\r\n            'Action',\r\n          ]}\r\n          search={true}\r\n          sort={true}\r\n          fixedHeader={true}\r\n          pagination={{ enabled: true, limit: 10 }}\r\n          style={{ margin: '0 auto' }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Preview;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\config.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Image.js",["155"],"import React, { useEffect, useState } from 'react';\r\nimport SimpleReactLightbox, { SRLWrapper } from 'simple-react-lightbox';\r\nimport Axios from 'axios';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\n\r\nconst Image = ({ match }) => {\r\n  const [image, setImage] = useState([]);\r\n\r\n  const init = () => {\r\n    const id = match.params.webId;\r\n    Axios.post(`${API}/image`, { web_id: id }).then((result) => {\r\n      setImage(result.data);\r\n      console.log(image);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    console.log(image);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"container p-5\">\r\n        {image && <h4>จำนวนรูปทั้งหมด : {image && image.length}</h4>}\r\n        <SimpleReactLightbox>\r\n          <SRLWrapper>\r\n            {image.map((i) => (\r\n              <a href={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}>\r\n                <img\r\n                  src={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}\r\n                  alt={i.img_id}\r\n                  style={{\r\n                    maxWidth: '300px',\r\n                    height: '300px',\r\n                    borderRadius: '10px',\r\n                  }}\r\n                  className=\"card card-1 m-3\"\r\n                />\r\n              </a>\r\n            ))}\r\n          </SRLWrapper>\r\n        </SimpleReactLightbox>\r\n        {console.log(image)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Edit.js",["156","157","158","159","160","161","162","163","164","165"],"import React, { useState, useEffect, Fragment } from 'react';\r\nimport Axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { isNull } from 'lodash';\r\n\r\nconst Edit = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    web_id: '',\r\n    web_name: '',\r\n    web_url: '',\r\n    web_details: '',\r\n    files: [],\r\n    fileUpdate: '',\r\n    zips: [],\r\n    zipUpdate: '',\r\n  });\r\n\r\n  const [zip, setZip] = useState([]);\r\n  const [deleteZip, setDeleteZip] = useState([]);\r\n\r\n  function TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`simple-tabpanel-${index}`}\r\n        aria-labelledby={`simple-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && <>{children}</>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n\r\n  function a11yProps(index) {\r\n    return {\r\n      id: `simple-tab-${index}`,\r\n      'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const [deleteFiles, setdeleteFiles] = useState([]);\r\n\r\n  const {\r\n    web_id,\r\n    web_name,\r\n    web_details,\r\n    web_url,\r\n    files,\r\n    fileUpdate,\r\n    zips,\r\n    zipUpdate,\r\n  } = values;\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    await Axios.put(`${API}/update`, values).then((data) => {\r\n      toast.dark('Upload Successful');\r\n      setTimeout(window.location.reload(), 1500);\r\n      setTimeout(init(), 1500);\r\n    });\r\n\r\n    if (fileUpdate.length > 0) {\r\n      const formData = new FormData();\r\n      for (let i = 0; i < values.fileUpdate.length; i++) {\r\n        formData.append('fileUpdate', values.fileUpdate[i]);\r\n      }\r\n      formData.append('webId', web_id);\r\n      await Axios.post(`${API}/imageUpdate`, formData).then((data) => {\r\n        init();\r\n      });\r\n    }\r\n    if (zipUpdate.length > 0) {\r\n      const formDataZip = new FormData();\r\n      for (let i = 0; i < values.zipUpdate.length; i++) {\r\n        formDataZip.append('zipUpdate', values.zipUpdate[i]);\r\n      }\r\n      formDataZip.append('webId', web_id);\r\n      await Axios.post(`${API}/zipUpdate`, formDataZip).then((data) => {\r\n        init();\r\n      });\r\n    }\r\n    if (deleteFiles.length > 0) {\r\n      await Axios.post(`${API}/deleteImage`, {\r\n        deleteFiles,\r\n      }).then((data) => {});\r\n    }\r\n    if (deleteZip.length > 0) {\r\n      await Axios.post(`${API}/deleteZip`, { deleteZip }).then((data) => {});\r\n    }\r\n  };\r\n\r\n  const handleFiles = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, fileUpdate: event.target.files });\r\n    const total_file = document.getElementById('image').files.length;\r\n    for (let i = 0; i < total_file; i++) {\r\n      const img = document.createElement('img');\r\n      img.setAttribute('id', 'imgPre');\r\n      img.style.width = '150px';\r\n      img.src = URL.createObjectURL(event.target.files[i]);\r\n      const imgId = document.getElementById('image_preview');\r\n      imgId.appendChild(img);\r\n    }\r\n    console.log(fileUpdate);\r\n  };\r\n\r\n  const handleZips = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, zipUpdate: event.target.files });\r\n  };\r\n\r\n  const init = async () => {\r\n    const webId = match.params.webId;\r\n\r\n    await Axios.post(`${API}/data`, { web_id: webId }).then((result) => {\r\n      const { data } = result;\r\n      const [{ web_id, web_name, web_url, web_details }] = data;\r\n      const imageArray = [];\r\n      data.map((image) => {\r\n        imageArray.push(image.img_path);\r\n      });\r\n\r\n      const zipArray = [];\r\n      data.map((zip) => {\r\n        zipArray.push(zip.zip_path);\r\n      });\r\n\r\n      const imageSet = [...new Set(imageArray)];\r\n      const zipSet = [...new Set(zipArray)];\r\n\r\n      console.log(zipSet);\r\n\r\n      setValues({\r\n        ...values,\r\n        web_id,\r\n        web_name,\r\n        web_url,\r\n        web_details,\r\n        files: imageSet,\r\n        fileUpdate: '',\r\n        zips: zipSet.filter((zip) => zip != null),\r\n      });\r\n    });\r\n  };\r\n\r\n  console.log(values);\r\n\r\n  const handleFileDelete = (file) => {\r\n    const index = files.indexOf(file);\r\n    deleteFiles.push(file);\r\n    if (index !== -1) {\r\n      files.splice(index, 1);\r\n    }\r\n    console.log(deleteFiles);\r\n\r\n    // const d = document.getElementById(file);\r\n    // d.parentNode.removeChild(d);\r\n    setValues({ ...values, files: files });\r\n  };\r\n\r\n  const handleZipDelete = (zipFile) => {\r\n    const index = zips.indexOf(zipFile);\r\n    deleteZip.push(zipFile);\r\n    if (index !== -1) {\r\n      zips.splice(index, 1);\r\n    }\r\n    console.log(zips);\r\n    console.log(deleteZip);\r\n    setValues({ ...values, zips: zips });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <MaterialNavbar />\r\n      <div className=\"m-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-5\">\r\n            <form onSubmit={submitForm} encType=\"multipart/form-data\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n                  ไอดีเว็บ\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  disabled\r\n                  name=\"w_name\"\r\n                  id=\"w_name\"\r\n                  className=\"form-control\"\r\n                  value={web_id}\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n                  ชื่อเว็บไซต์\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"w_name\"\r\n                  id=\"w_name\"\r\n                  className=\"form-control\"\r\n                  value={web_name}\r\n                  required\r\n                  onChange={(e) =>\r\n                    setValues({ ...values, web_name: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\r\n                  Link URL\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  name=\"w_url\"\r\n                  id=\"w_url\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  value={web_url}\r\n                  onChange={(e) =>\r\n                    setValues({ ...values, web_url: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formFile\" className=\"form-label\">\r\n                  รูปภาพ\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"image\"\r\n                  name=\"image\"\r\n                  className=\"form-control\"\r\n                  multiple\r\n                  onChange={handleFiles}\r\n                  accept=\"image/*\"\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formFile\" className=\"form-label\">\r\n                  Zip\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"zip\"\r\n                  name=\"zip\"\r\n                  className=\"form-control\"\r\n                  multiple\r\n                  onChange={handleZips}\r\n                  accept=\".zip,.rar,.7zip\"\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label\r\n                  htmlFor=\"exampleFormControlTextarea1\"\r\n                  className=\"form-label\"\r\n                >\r\n                  คำอธิบาย\r\n                </label>\r\n                <textarea\r\n                  input\r\n                  type=\"text\"\r\n                  name=\"w_details\"\r\n                  id=\"w_details\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  value={web_details}\r\n                  onChange={(e) =>\r\n                    setValues({\r\n                      ...values,\r\n                      web_details: e.target.value,\r\n                    })\r\n                  }\r\n                ></textarea>\r\n              </div>\r\n              <input\r\n                className=\"btn btn-success\"\r\n                style={{ marginRight: '5px' }}\r\n                value=\"อัพเดต\"\r\n                type=\"submit\"\r\n              />\r\n              <Link to=\"/preview\">\r\n                <button className=\"btn btn-primary\">ดูข้อมูลทั้งหมด</button>\r\n              </Link>\r\n            </form>\r\n          </div>\r\n          <div id=\"image_preview\" className=\"col-md-7 mt-3\">\r\n            <div className={classes.root}>\r\n              <AppBar position=\"static\">\r\n                <Tabs\r\n                  value={value}\r\n                  onChange={handleChange}\r\n                  aria-label=\"simple tabs example\"\r\n                >\r\n                  <Tab label=\"Image\" {...a11yProps(0)} />\r\n                  <Tab label=\"Zip\" {...a11yProps(1)} />\r\n                </Tabs>\r\n              </AppBar>\r\n              <TabPanel value={value} index={0}>\r\n                <div className=\"m-5\">\r\n                  {files[0] !== null ? (\r\n                    <>\r\n                      {files.map((f, i) => (\r\n                        <>\r\n                          <div\r\n                            className=\"ml-2\"\r\n                            style={{\r\n                              position: 'relative',\r\n                              display: 'inline-block',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              className=\"deleteImg\"\r\n                              id={f}\r\n                              onClick={() => handleFileDelete(f)}\r\n                              style={{\r\n                                position: 'absolute',\r\n                                backgroundColor: 'orange',\r\n                                width: '25px',\r\n                                right: '0',\r\n                                color: 'white',\r\n                                textAlign: 'center',\r\n                                marginRight: '4px',\r\n                                cursor: 'pointer',\r\n                              }}\r\n                            >\r\n                              <CloseIcon />\r\n                            </div>\r\n                            <img\r\n                              key={i}\r\n                              id={f}\r\n                              src={`${process.env.PUBLIC_URL}/assets/${f}`}\r\n                              style={{\r\n                                width: '150px',\r\n                                height: '150px',\r\n                              }}\r\n                              className=\"mr-1 mb-1\"\r\n                            />\r\n                          </div>\r\n                        </>\r\n                      ))}\r\n                    </>\r\n                  ) : (\r\n                    <Fragment> </Fragment>\r\n                  )}\r\n                </div>\r\n              </TabPanel>\r\n              <TabPanel value={value} index={1}>\r\n                <div className=\"my-3\">\r\n                  {zips[0] !== null\r\n                    ? zips.map((z, i) => (\r\n                        <div\r\n                          key={i}\r\n                          id=\"zipload\"\r\n                          className=\"zipload text-center mr-2 p-5 mb-2\"\r\n                          style={{\r\n                            display: 'inline-block',\r\n                            backgroundColor: 'rgb(249 249 249)',\r\n                            borderRadius: '10px',\r\n                            position: 'relative',\r\n                          }}\r\n                        >\r\n                          <div\r\n                            id={z}\r\n                            className=\"deleteImg\"\r\n                            onClick={() => handleZipDelete(z)}\r\n                            style={{\r\n                              position: 'absolute',\r\n                              backgroundColor: 'orange',\r\n                              width: '25px',\r\n                              top: 0,\r\n                              right: '0',\r\n                              color: 'white',\r\n                              textAlign: 'center',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                          >\r\n                            <CloseIcon />\r\n                          </div>\r\n                          <img\r\n                            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\r\n                            style={{ maxWidth: '50px' }}\r\n                            onClick={() =>\r\n                              window.open(`${process.env.PUBLIC_URL}/zip/${z}`)\r\n                            }\r\n                            type=\"submit\"\r\n                          />\r\n                          <h6\r\n                            className=\"mt-2\"\r\n                            style={{ display: 'inline-block' }}\r\n                          >\r\n                            {z.slice(0, 10).toLowerCase()}\r\n                          </h6>\r\n                        </div>\r\n                      ))\r\n                    : 'ไม่มีการอัพโหลด'}\r\n                </div>\r\n              </TabPanel>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Modal.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Login.js",["166"],"import React, { useState, useEffect } from 'react';\r\nimport { API } from '../config';\r\nimport Axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [userLoggedIN, setUserLoggedIN] = useState('');\r\n  const [logged, setLogged] = useState(false);\r\n\r\n  Axios.defaults.withCredentials = true;\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    Axios.post(`${API}/login`, {\r\n      username: username,\r\n      password: password,\r\n    }).then((response) => {\r\n      console.log(response);\r\n      if (!response.data.auth) {\r\n        setLogged(false);\r\n        toast.error(response.data.message);\r\n      } else {\r\n        localStorage.setItem('token', JSON.stringify(response.data));\r\n        setLogged(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const RedirectTo = () => {\r\n    if (logged) {\r\n      return <Redirect to=\"/insert\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios.get(`${API}/login`).then((response) => {\r\n      console.log(response);\r\n      if (response.data.loggedIn === true) {\r\n        setLogged(true);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"container mt-5 w-50 justify-content-center align-items-center\">\r\n        {RedirectTo()}\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"exampleInputEmail1\">Username</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              autoFocus\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <button onClick={(e) => handleSubmit(e)} class=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n          <h1>{userLoggedIN}</h1>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Navbar.js",["167","168","169","170","171","172","173","174","175"],"import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth/index';\r\n\r\nconst Navbar = ({ history }) => {\r\n  return (\r\n    <>\r\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <a class=\"navbar-brand\" href=\"#\">\r\n          Navbar\r\n        </a>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNavDropdown\"\r\n          aria-controls=\"navbarNavDropdown\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\r\n          <ul class=\"navbar-nav\">\r\n            <li class=\"nav-item active\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Home <span class=\"sr-only\">(current)</span>\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Features\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Pricing\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item dropdown\">\r\n              <a\r\n                class=\"nav-link dropdown-toggle\"\r\n                href=\"#\"\r\n                id=\"navbarDropdownMenuLink\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                Dropdown link\r\n              </a>\r\n              <div\r\n                class=\"dropdown-menu\"\r\n                aria-labelledby=\"navbarDropdownMenuLink\"\r\n              >\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Action\r\n                </a>\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Another action\r\n                </a>\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Something else here\r\n                </a>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark text-white\">\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"navbar-brand\" href=\"/insert\">\r\n                Link Preview\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"navbar-brand\" href=\"/insert\">\r\n                Add image\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"navbar-brand\" href=\"/preview\">\r\n                Edit\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {isAuthenticated().auth && (\r\n            <button\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push('/');\r\n                })\r\n              }\r\n              className=\"btn btn-outline-success my-2 my-sm-0\"\r\n              type=\"submit\"\r\n            >\r\n              <i className=\"fas fa-sign-out-alt\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n",["176","177"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\index.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\AdminRoute.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Dropdown.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\MaterialNavbar.js",["178","179","180"],"import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport ImageSharpIcon from '@material-ui/icons/ImageSharp';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth/index';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/insert');\r\n            }}\r\n          >\r\n            <ImageSharpIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Link Preview\r\n          </Typography>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/preview');\r\n            }}\r\n          >\r\n            <ViewListIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/insert');\r\n            }}\r\n          >\r\n            <AddPhotoAlternateIcon />\r\n          </IconButton>\r\n\r\n          {isAuthenticated().auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <FaceIcon />\r\n              </IconButton>\r\n\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem\r\n                  onClick={() =>\r\n                    signout(() => {\r\n                      history.push('/');\r\n                    })\r\n                  }\r\n                >\r\n                  Log out\r\n                </MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n",["181","182"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Tab.js",["183","184"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\LightBox.js",["185","186","187"],"import React, { useState, useEffect } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport Axios from 'axios';\r\nimport { API } from '../config';\r\n\r\nconst LightboxExample = ({ img, webId }) => {\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [image, setImage] = useState([]);\r\n  const images = [`${process.env.PUBLIC_URL}/assets/${img}`];\r\n\r\n  const init = () => {\r\n    Axios.post(`${API}/image`, { web_id: webId }).then((result) => {\r\n      setImage(result.data);\r\n    });\r\n  };\r\n\r\n  image.map((p) => {\r\n    let imgpath = `${process.env.PUBLIC_URL}/assets/${p.img_path}`;\r\n    images.push(imgpath);\r\n  });\r\n\r\n  const images2 = [...new Set(images)];\r\n\r\n  useEffect(() => {\r\n    init();\r\n    setPhotoIndex(0);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        src={`${process.env.PUBLIC_URL}/assets/${img}`}\r\n        style={{ width: '50px' }}\r\n        type=\"button\"\r\n        onClick={() => setIsOpen(true)}\r\n      />\r\n      {isOpen && (\r\n        <Lightbox\r\n          mainSrc={images2[photoIndex]}\r\n          nextSrc={images2[(photoIndex + 1) % images2.length]}\r\n          prevSrc={images2[(photoIndex + images2.length - 1) % images2.length]}\r\n          onCloseRequest={() => setIsOpen(false)}\r\n          onMovePrevRequest={() =>\r\n            setPhotoIndex((photoIndex + images2.length - 1) % images2.length)\r\n          }\r\n          onMoveNextRequest={() =>\r\n            setPhotoIndex((photoIndex + 1) % images2.length)\r\n          }\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LightboxExample;\r\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\index.js",[],["188","189"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\Route.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Home.js",["190","191","192"],"import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Link } from 'react-router-dom';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\n\nconst Home = () => {\n  const [values, setValues] = useState({\n    web_name: '',\n    web_url: '',\n    web_details: '',\n    files: '',\n    zip: '',\n  });\n\n  const { web_name, web_details, web_url, files, zip } = values;\n\n  const submitForm = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    for (const name in values) {\n      if (name === 'files') {\n        for (let i = 0; i < values.files.length; i++) {\n          formData.append(name, values.files[i]);\n        }\n      }\n      if (name === 'zip') {\n        for (let i = 0; i < values.zip.length; i++) {\n          formData.append(name, values.zip[i]);\n        }\n      }\n      formData.append(name, values[name]);\n    }\n    Axios.post(`${API}/insert`, formData).then((data) => {\n      toast.dark('Upload Successful', { closeOnClick: true, autoClose: 1000 });\n    });\n    setValues({\n      ...values,\n      web_name: '',\n      web_url: '',\n      web_details: '',\n      files: '',\n    });\n    // const preview = document.getElementById('imgPre');\n    // for (let i = 0; i < preview.innerHTML.length; i++) {\n    //   preview.parentNode.removeChild(preview);\n    // }\n    // console.log(preview.innerHTML.length);\n\n    // const elem = document.querySelector('#image_preview');\n    // elem.parentNode.removeChild(elem);\n    // const imgDiv = document.createElement('img');\n    // imgDiv.setAttribute('id', 'image_preview');\n    setTimeout(() => {\n      window.location.reload();\n    }, 2000);\n  };\n\n  const handleFiles = (event) => {\n    event.preventDefault();\n    const total_file = document.getElementById('image').files.length;\n    for (let i = 0; i < total_file; i++) {\n      const img = document.createElement('img');\n      img.setAttribute('id', 'imgPre');\n      img.style.width = '150px';\n      img.src = URL.createObjectURL(event.target.files[i]);\n      const imgId = document.getElementById('image_preview');\n      imgId.appendChild(img);\n    }\n    setValues({ ...values, files: event.target.files });\n    console.log(event.target.files);\n  };\n\n  const handleZip = (event) => {\n    event.preventDefault();\n    setValues({ ...values, zip: event.target.files });\n    console.log(event.target.files);\n  };\n\n  return (\n    <div>\n      <MaterialNavbar />\n      <div className=\"container my-5\">\n        <div id=\"image_preview\" className=\"d-flex flex-row\"></div>\n        <form onSubmit={submitForm} encType=\"multipart/form-data\">\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputName\" className=\"form-label\">\n              ชื่อเว็บไซต์\n            </label>\n            <input\n              type=\"text\"\n              name=\"w_name\"\n              id=\"w_name\"\n              className=\"form-control\"\n              value={web_name}\n              required\n              onChange={(e) =>\n                setValues({ ...values, web_name: e.target.value })\n              }\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\n              Link URL\n            </label>\n            <input\n              type=\"url\"\n              name=\"w_url\"\n              id=\"w_url\"\n              className=\"form-control\"\n              required\n              value={web_url}\n              onChange={(e) =>\n                setValues({ ...values, web_url: e.target.value })\n              }\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"formFile\" className=\"form-label\">\n              รูปภาพ\n            </label>\n            <input\n              type=\"file\"\n              id=\"image\"\n              name=\"image\"\n              className=\"form-control\"\n              multiple\n              onChange={handleFiles}\n              accept=\"image/*\"\n              required\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"formFile\" className=\"form-label\">\n              Zip\n            </label>\n            <input\n              type=\"file\"\n              id=\"zip\"\n              name=\"zip\"\n              className=\"form-control\"\n              multiple\n              onChange={handleZip}\n              accept=\".zip,.rar,.7zip\"\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">\n              คำอธิบาย\n            </label>\n            <textarea\n              input\n              type=\"text\"\n              name=\"w_details\"\n              id=\"w_details\"\n              className=\"form-control\"\n              required\n              value={web_details}\n              onChange={(e) =>\n                setValues({ ...values, web_details: e.target.value })\n              }\n            ></textarea>\n          </div>\n          <input\n            className=\"btn btn-dark\"\n            style={{ marginRight: '5px' }}\n            value=\"อัพโหลด\"\n            type=\"submit\"\n          />\n          <Link to=\"/preview\">\n            <button className=\"btn btn-primary mr-2\">ดูข้อมูลทั้งหมด</button>\n          </Link>\n          <Link to=\"/\" onClick={() => window.location.reload()}>\n            <button className=\"btn btn-danger\">ล้าง</button>\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Image.js",["193"],"import React, { useEffect, useState } from 'react';\nimport SimpleReactLightbox, { SRLWrapper } from 'simple-react-lightbox';\nimport Axios from 'axios';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\n\nconst Image = ({ match }) => {\n  const [image, setImage] = useState([]);\n\n  const init = () => {\n    const id = match.params.webId;\n    Axios.post(`${API}/image`, { web_id: id }).then((result) => {\n      setImage(result.data);\n      console.log(image);\n    });\n  };\n\n  useEffect(() => {\n    init();\n    console.log(image);\n  }, []);\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"container p-5\">\n        {image && <h4>จำนวนรูปทั้งหมด : {image && image.length}</h4>}\n        <SimpleReactLightbox>\n          <SRLWrapper>\n            {image.map((i) => (\n              <a href={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}>\n                <img\n                  src={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}\n                  alt={i.img_id}\n                  style={{\n                    maxWidth: '300px',\n                    height: '300px',\n                    borderRadius: '10px',\n                  }}\n                  className=\"card card-1 m-3\"\n                />\n              </a>\n            ))}\n          </SRLWrapper>\n        </SimpleReactLightbox>\n        {console.log(image)}\n      </div>\n    </>\n  );\n};\n\nexport default Image;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Preview.js",["194","195","196","197"],"import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport moment from 'moment';\nimport { API } from '../config';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Modal from '../componenets/Modal';\nimport { Grid, _ } from 'gridjs-react';\nimport 'gridjs/dist/theme/mermaid.css';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport LightBox from '../componenets/LightBox';\n\nconst Preview = () => {\n  const [dataRow, setdataRow] = useState([]);\n  const [image, setImage] = useState([]);\n\n  const init = () => {\n    Axios.get(`${API}/list`).then((result) => {\n      setdataRow(result.data);\n    });\n    Axios.get(`${API}/image`).then((result) => {\n      setImage(result.data);\n    });\n  };\n\n  const gotoURL = (url) => {\n    window.open(url);\n  };\n\n  console.log(dataRow);\n\n  const handleDelete = (link) => {\n    Axios.delete(`${API}/delete`, { data: { deleteId: link } }).then((data) => {\n      console.log(link);\n      toast.success('Delete Successful', {\n        closeOnClick: true,\n        duration: 1500,\n      });\n      init();\n    });\n  };\n\n  const dataArray = [];\n  dataRow.map((e) => {\n    dataArray.push([\n      e.web_id,\n      _(\n        <LightBox img={e.img_path} webId={e.web_id} />\n        // e.img_path ? (\n        //   <a href={`/image/${e.web_id}`}>\n        //     <img\n        //       src={`${process.env.PUBLIC_URL}/assets/${e.img_path}`}\n        //       style={{ width: '50px' }}\n        //     />\n        //   </a>\n        // ) : (\n        //   'ไม่มีรูปแสดง'\n        // )\n      ),\n      e.web_name.slice(0, 20),\n      e.web_url.slice(0, 30),\n      e.web_details.slice(0, 30),\n      moment(e.timestamp).format('lll'),\n      _(\n        e.zip_path !== null ? (\n          <img\n            style={{ width: '30px' }}\n            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\n            onClick={() =>\n              window.open(`${process.env.PUBLIC_URL}/zip/${e.zip_path}`)\n            }\n            type=\"submit\"\n          />\n        ) : (\n          'No'\n        )\n      ),\n      _(\n        <div className=\"ml-1\">\n          <button\n            onClick={() => gotoURL(e.web_url)}\n            className=\"btn btn-success p-1\"\n          >\n            <i className=\"fas fa-external-link-alt\"></i>\n          </button>\n          <a href={`/image/${e.web_id}`}>\n            <button className=\"btn btn-warning  p-1\">\n              <i className=\"fas fa-clone\"></i>\n            </button>\n          </a>\n          <a href={`/edit/${e.web_id}`}>\n            <button className=\"btn btn-primary  p-1\">\n              <i className=\"fas fa-pen\"></i>\n            </button>\n          </a>\n          <Modal\n            deleteLink={handleDelete}\n            LinkId={e.web_id}\n            linkName={e.web_name}\n          >\n            <button className=\"btn btn-danger  p-1\">\n              <i className=\"fas fa-times\"></i>\n            </button>\n          </Modal>\n        </div>\n      ),\n    ]);\n  });\n\n  // const data = {\n  //   columns: [\n  //     { label: 'id', field: 'web_id', sort: 'asc' },\n  //     { label: 'name', field: 'web_name', sort: 'asc' },\n  //     { label: 'url', field: 'web_url', sort: 'asc' },\n  //     { label: 'details', field: 'web_details', sort: 'asc' },\n  //     { label: 'createdAt', field: 'createdAt', sort: 'asc', width: 150 },\n  //     { label: 'Action', field: 'action', sort: 'asc' },\n  //   ],\n  //   rows: dataArray,\n  // };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"m-2\">\n        {/* <MDBDataTable\n        className=\"mt-5\"\n        striped\n        bordered\n        small\n        data={data}\n        responsive={true}\n      /> */}\n        <Grid\n          data={dataArray}\n          columns={[\n            'id',\n            'image',\n            'name',\n            'url',\n            'details',\n            'createdAt',\n            'Zip',\n            'Action',\n          ]}\n          search={true}\n          sort={true}\n          fixedHeader={true}\n          pagination={{ enabled: true, limit: 10 }}\n          style={{ margin: '0 auto' }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Preview;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Login.js",["198"],"import React, { useState, useEffect } from 'react';\nimport { API } from '../config';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport { toast } from 'react-toastify';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [userLoggedIN, setUserLoggedIN] = useState('');\n  const [logged, setLogged] = useState(false);\n\n  Axios.defaults.withCredentials = true;\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    Axios.post(`${API}/login`, {\n      username: username,\n      password: password,\n    }).then((response) => {\n      console.log(response);\n      if (!response.data.auth) {\n        setLogged(false);\n        toast.error(response.data.message);\n      } else {\n        localStorage.setItem('token', JSON.stringify(response.data));\n        setLogged(true);\n      }\n    });\n  };\n\n  const RedirectTo = () => {\n    if (logged) {\n      return <Redirect to=\"/insert\" />;\n    }\n  };\n\n  useEffect(() => {\n    Axios.get(`${API}/login`).then((response) => {\n      console.log(response);\n      if (response.data.loggedIn === true) {\n        setLogged(true);\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"container mt-5 w-50 justify-content-center align-items-center\">\n        {RedirectTo()}\n        <form>\n          <div class=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Username</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              autoFocus\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div class=\"form-group\">\n            <label htmlFor=\"exampleInputPassword1\">Password</label>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              id=\"exampleInputPassword1\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <button onClick={(e) => handleSubmit(e)} class=\"btn btn-primary\">\n            Submit\n          </button>\n          <h1>{userLoggedIN}</h1>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\AdminRoute.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Edit.js",["199","200","201","202","203","204","205","206","207","208"],"import React, { useState, useEffect, Fragment } from 'react';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Link } from 'react-router-dom';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { isNull } from 'lodash';\n\nconst Edit = ({ match }) => {\n  const [values, setValues] = useState({\n    web_id: '',\n    web_name: '',\n    web_url: '',\n    web_details: '',\n    files: [],\n    fileUpdate: '',\n    zips: [],\n    zipUpdate: '',\n  });\n\n  const [zip, setZip] = useState([]);\n  const [deleteZip, setDeleteZip] = useState([]);\n\n  function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n      <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`simple-tabpanel-${index}`}\n        aria-labelledby={`simple-tab-${index}`}\n        {...other}\n      >\n        {value === index && <>{children}</>}\n      </div>\n    );\n  }\n\n  TabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n  };\n\n  function a11yProps(index) {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      backgroundColor: theme.palette.background.paper,\n    },\n  }));\n\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [deleteFiles, setdeleteFiles] = useState([]);\n\n  const {\n    web_id,\n    web_name,\n    web_details,\n    web_url,\n    files,\n    fileUpdate,\n    zips,\n    zipUpdate,\n  } = values;\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    await Axios.put(`${API}/update`, values).then((data) => {\n      toast.dark('Upload Successful');\n      setTimeout(window.location.reload(), 1500);\n      setTimeout(init(), 1500);\n    });\n\n    if (fileUpdate.length > 0) {\n      const formData = new FormData();\n      for (let i = 0; i < values.fileUpdate.length; i++) {\n        formData.append('fileUpdate', values.fileUpdate[i]);\n      }\n      formData.append('webId', web_id);\n      await Axios.post(`${API}/imageUpdate`, formData).then((data) => {\n        init();\n      });\n    }\n    if (zipUpdate.length > 0) {\n      const formDataZip = new FormData();\n      for (let i = 0; i < values.zipUpdate.length; i++) {\n        formDataZip.append('zipUpdate', values.zipUpdate[i]);\n      }\n      formDataZip.append('webId', web_id);\n      await Axios.post(`${API}/zipUpdate`, formDataZip).then((data) => {\n        init();\n      });\n    }\n    if (deleteFiles.length > 0) {\n      await Axios.post(`${API}/deleteImage`, {\n        deleteFiles,\n      }).then((data) => {});\n    }\n    if (deleteZip.length > 0) {\n      await Axios.post(`${API}/deleteZip`, { deleteZip }).then((data) => {});\n    }\n  };\n\n  const handleFiles = (event) => {\n    event.preventDefault();\n    setValues({ ...values, fileUpdate: event.target.files });\n    const total_file = document.getElementById('image').files.length;\n    for (let i = 0; i < total_file; i++) {\n      const img = document.createElement('img');\n      img.setAttribute('id', 'imgPre');\n      img.style.width = '150px';\n      img.src = URL.createObjectURL(event.target.files[i]);\n      const imgId = document.getElementById('image_preview');\n      imgId.appendChild(img);\n    }\n    console.log(fileUpdate);\n  };\n\n  const handleZips = (event) => {\n    event.preventDefault();\n    setValues({ ...values, zipUpdate: event.target.files });\n  };\n\n  const init = async () => {\n    const webId = match.params.webId;\n\n    await Axios.post(`${API}/data`, { web_id: webId }).then((result) => {\n      const { data } = result;\n      const [{ web_id, web_name, web_url, web_details }] = data;\n      const imageArray = [];\n      data.map((image) => {\n        imageArray.push(image.img_path);\n      });\n\n      const zipArray = [];\n      data.map((zip) => {\n        zipArray.push(zip.zip_path);\n      });\n\n      const imageSet = [...new Set(imageArray)];\n      const zipSet = [...new Set(zipArray)];\n\n      console.log(zipSet);\n\n      setValues({\n        ...values,\n        web_id,\n        web_name,\n        web_url,\n        web_details,\n        files: imageSet,\n        fileUpdate: '',\n        zips: zipSet.filter((zip) => zip != null),\n      });\n    });\n  };\n\n  console.log(values);\n\n  const handleFileDelete = (file) => {\n    const index = files.indexOf(file);\n    deleteFiles.push(file);\n    if (index !== -1) {\n      files.splice(index, 1);\n    }\n    console.log(deleteFiles);\n\n    // const d = document.getElementById(file);\n    // d.parentNode.removeChild(d);\n    setValues({ ...values, files: files });\n  };\n\n  const handleZipDelete = (zipFile) => {\n    const index = zips.indexOf(zipFile);\n    deleteZip.push(zipFile);\n    if (index !== -1) {\n      zips.splice(index, 1);\n    }\n    console.log(zips);\n    console.log(deleteZip);\n    setValues({ ...values, zips: zips });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <div>\n      <MaterialNavbar />\n      <div className=\"m-4\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">\n            <form onSubmit={submitForm} encType=\"multipart/form-data\">\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\n                  ไอดีเว็บ\n                </label>\n                <input\n                  type=\"text\"\n                  disabled\n                  name=\"w_name\"\n                  id=\"w_name\"\n                  className=\"form-control\"\n                  value={web_id}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\n                  ชื่อเว็บไซต์\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"w_name\"\n                  id=\"w_name\"\n                  className=\"form-control\"\n                  value={web_name}\n                  required\n                  onChange={(e) =>\n                    setValues({ ...values, web_name: e.target.value })\n                  }\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\n                  Link URL\n                </label>\n                <input\n                  type=\"url\"\n                  name=\"w_url\"\n                  id=\"w_url\"\n                  className=\"form-control\"\n                  required\n                  value={web_url}\n                  onChange={(e) =>\n                    setValues({ ...values, web_url: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"formFile\" className=\"form-label\">\n                  รูปภาพ\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"image\"\n                  name=\"image\"\n                  className=\"form-control\"\n                  multiple\n                  onChange={handleFiles}\n                  accept=\"image/*\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"formFile\" className=\"form-label\">\n                  Zip\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"zip\"\n                  name=\"zip\"\n                  className=\"form-control\"\n                  multiple\n                  onChange={handleZips}\n                  accept=\".zip,.rar,.7zip\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label\n                  htmlFor=\"exampleFormControlTextarea1\"\n                  className=\"form-label\"\n                >\n                  คำอธิบาย\n                </label>\n                <textarea\n                  input\n                  type=\"text\"\n                  name=\"w_details\"\n                  id=\"w_details\"\n                  className=\"form-control\"\n                  required\n                  value={web_details}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      web_details: e.target.value,\n                    })\n                  }\n                ></textarea>\n              </div>\n              <input\n                className=\"btn btn-success\"\n                style={{ marginRight: '5px' }}\n                value=\"อัพเดต\"\n                type=\"submit\"\n              />\n              <Link to=\"/preview\">\n                <button className=\"btn btn-primary\">ดูข้อมูลทั้งหมด</button>\n              </Link>\n            </form>\n          </div>\n          <div id=\"image_preview\" className=\"col-md-7 mt-3\">\n            <div className={classes.root}>\n              <AppBar position=\"static\">\n                <Tabs\n                  value={value}\n                  onChange={handleChange}\n                  aria-label=\"simple tabs example\"\n                >\n                  <Tab label=\"Image\" {...a11yProps(0)} />\n                  <Tab label=\"Zip\" {...a11yProps(1)} />\n                </Tabs>\n              </AppBar>\n              <TabPanel value={value} index={0}>\n                <div className=\"m-5\">\n                  {files[0] !== null ? (\n                    <>\n                      {files.map((f, i) => (\n                        <>\n                          <div\n                            className=\"ml-2\"\n                            style={{\n                              position: 'relative',\n                              display: 'inline-block',\n                            }}\n                          >\n                            <div\n                              className=\"deleteImg\"\n                              id={f}\n                              onClick={() => handleFileDelete(f)}\n                              style={{\n                                position: 'absolute',\n                                backgroundColor: 'orange',\n                                width: '25px',\n                                right: '0',\n                                color: 'white',\n                                textAlign: 'center',\n                                marginRight: '4px',\n                                cursor: 'pointer',\n                              }}\n                            >\n                              <CloseIcon />\n                            </div>\n                            <img\n                              key={i}\n                              id={f}\n                              src={`${process.env.PUBLIC_URL}/assets/${f}`}\n                              style={{\n                                width: '150px',\n                                height: '150px',\n                              }}\n                              className=\"mr-1 mb-1\"\n                            />\n                          </div>\n                        </>\n                      ))}\n                    </>\n                  ) : (\n                    <Fragment> </Fragment>\n                  )}\n                </div>\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <div className=\"my-3\">\n                  {zips[0] !== null\n                    ? zips.map((z, i) => (\n                        <div\n                          key={i}\n                          id=\"zipload\"\n                          className=\"zipload text-center mr-2 p-5 mb-2\"\n                          style={{\n                            display: 'inline-block',\n                            backgroundColor: 'rgb(249 249 249)',\n                            borderRadius: '10px',\n                            position: 'relative',\n                          }}\n                        >\n                          <div\n                            id={z}\n                            className=\"deleteImg\"\n                            onClick={() => handleZipDelete(z)}\n                            style={{\n                              position: 'absolute',\n                              backgroundColor: 'orange',\n                              width: '25px',\n                              top: 0,\n                              right: '0',\n                              color: 'white',\n                              textAlign: 'center',\n                              cursor: 'pointer',\n                            }}\n                          >\n                            <CloseIcon />\n                          </div>\n                          <img\n                            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\n                            style={{ maxWidth: '50px' }}\n                            onClick={() =>\n                              window.open(`${process.env.PUBLIC_URL}/zip/${z}`)\n                            }\n                            type=\"submit\"\n                          />\n                          <h6\n                            className=\"mt-2\"\n                            style={{ display: 'inline-block' }}\n                          >\n                            {z.slice(0, 10).toLowerCase()}\n                          </h6>\n                        </div>\n                      ))\n                    : 'ไม่มีการอัพโหลด'}\n                </div>\n              </TabPanel>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Edit;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\config.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\LightBox.js",["209","210","211"],"import React, { useState, useEffect } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\nimport Axios from 'axios';\nimport { API } from '../config';\n\nconst LightboxExample = ({ img, webId }) => {\n  const [photoIndex, setPhotoIndex] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [image, setImage] = useState([]);\n  const images = [`${process.env.PUBLIC_URL}/assets/${img}`];\n\n  const init = () => {\n    Axios.post(`${API}/image`, { web_id: webId }).then((result) => {\n      setImage(result.data);\n    });\n  };\n\n  image.map((p) => {\n    let imgpath = `${process.env.PUBLIC_URL}/assets/${p.img_path}`;\n    images.push(imgpath);\n  });\n\n  const images2 = [...new Set(images)];\n\n  useEffect(() => {\n    init();\n    setPhotoIndex(0);\n  }, []);\n\n  return (\n    <div>\n      <img\n        src={`${process.env.PUBLIC_URL}/assets/${img}`}\n        style={{ width: '50px' }}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      />\n      {isOpen && (\n        <Lightbox\n          mainSrc={images2[photoIndex]}\n          nextSrc={images2[(photoIndex + 1) % images2.length]}\n          prevSrc={images2[(photoIndex + images2.length - 1) % images2.length]}\n          onCloseRequest={() => setIsOpen(false)}\n          onMovePrevRequest={() =>\n            setPhotoIndex((photoIndex + images2.length - 1) % images2.length)\n          }\n          onMoveNextRequest={() =>\n            setPhotoIndex((photoIndex + 1) % images2.length)\n          }\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LightboxExample;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\index.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\Modal.js",[],["212","213"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\MaterialNavbar.js",["214","215","216"],"import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ImageSharpIcon from '@material-ui/icons/ImageSharp';\nimport { useHistory } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth/index';\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const [auth, setAuth] = React.useState(true);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleChange = (event) => {\n    setAuth(event.target.checked);\n  };\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const history = useHistory();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <ImageSharpIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Link Preview\n          </Typography>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/preview');\n            }}\n          >\n            <ViewListIcon />\n          </IconButton>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <AddPhotoAlternateIcon />\n          </IconButton>\n\n          {isAuthenticated().auth && (\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <FaceIcon />\n              </IconButton>\n\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem\n                  onClick={() =>\n                    signout(() => {\n                      history.push('/');\n                    })\n                  }\n                >\n                  Log out\n                </MenuItem>\n              </Menu>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n",{"ruleId":"217","replacedBy":"218"},{"ruleId":"219","replacedBy":"220"},{"ruleId":"217","replacedBy":"221"},{"ruleId":"219","replacedBy":"222"},{"ruleId":"223","severity":1,"message":"224","line":1,"column":27,"nodeType":"225","messageId":"226","endLine":1,"endColumn":36},{"ruleId":"223","severity":1,"message":"227","line":18,"column":43,"nodeType":"225","messageId":"226","endLine":18,"endColumn":48},{"ruleId":"223","severity":1,"message":"228","line":18,"column":50,"nodeType":"225","messageId":"226","endLine":18,"endColumn":53},{"ruleId":"223","severity":1,"message":"229","line":5,"column":10,"nodeType":"225","messageId":"226","endLine":5,"endColumn":14},{"ruleId":"223","severity":1,"message":"230","line":15,"column":10,"nodeType":"225","messageId":"226","endLine":15,"endColumn":15},{"ruleId":"231","severity":1,"message":"232","line":44,"column":19,"nodeType":"233","messageId":"234","endLine":44,"endColumn":21},{"ruleId":"235","severity":1,"message":"236","line":66,"column":11,"nodeType":"237","endLine":73,"endColumn":13},{"ruleId":"238","severity":1,"message":"239","line":21,"column":6,"nodeType":"240","endLine":21,"endColumn":8,"suggestions":"241"},{"ruleId":"223","severity":1,"message":"242","line":14,"column":10,"nodeType":"225","messageId":"226","endLine":14,"endColumn":16},{"ruleId":"223","severity":1,"message":"228","line":28,"column":10,"nodeType":"225","messageId":"226","endLine":28,"endColumn":13},{"ruleId":"223","severity":1,"message":"243","line":28,"column":15,"nodeType":"225","messageId":"226","endLine":28,"endColumn":21},{"ruleId":"223","severity":1,"message":"244","line":29,"column":21,"nodeType":"225","messageId":"226","endLine":29,"endColumn":33},{"ruleId":"223","severity":1,"message":"245","line":74,"column":23,"nodeType":"225","messageId":"226","endLine":74,"endColumn":37},{"ruleId":"231","severity":1,"message":"232","line":152,"column":24,"nodeType":"233","messageId":"234","endLine":152,"endColumn":26},{"ruleId":"231","severity":1,"message":"232","line":157,"column":22,"nodeType":"233","messageId":"234","endLine":157,"endColumn":24},{"ruleId":"238","severity":1,"message":"246","line":207,"column":6,"nodeType":"240","endLine":207,"endColumn":8,"suggestions":"247"},{"ruleId":"235","severity":1,"message":"236","line":366,"column":29,"nodeType":"237","endLine":375,"endColumn":31},{"ruleId":"235","severity":1,"message":"236","line":417,"column":27,"nodeType":"237","endLine":424,"endColumn":29},{"ruleId":"223","severity":1,"message":"248","line":11,"column":24,"nodeType":"225","messageId":"226","endLine":11,"endColumn":39},{"ruleId":"249","severity":1,"message":"250","line":9,"column":9,"nodeType":"237","endLine":9,"endColumn":42},{"ruleId":"249","severity":1,"message":"250","line":26,"column":15,"nodeType":"237","endLine":26,"endColumn":44},{"ruleId":"249","severity":1,"message":"250","line":31,"column":15,"nodeType":"237","endLine":31,"endColumn":44},{"ruleId":"249","severity":1,"message":"250","line":36,"column":15,"nodeType":"237","endLine":36,"endColumn":44},{"ruleId":"249","severity":1,"message":"250","line":41,"column":15,"nodeType":"237","endLine":48,"endColumn":16},{"ruleId":"251","severity":1,"message":"252","line":41,"column":15,"nodeType":"237","endLine":48,"endColumn":16},{"ruleId":"249","severity":1,"message":"250","line":55,"column":17,"nodeType":"237","endLine":55,"endColumn":51},{"ruleId":"249","severity":1,"message":"250","line":58,"column":17,"nodeType":"237","endLine":58,"endColumn":51},{"ruleId":"249","severity":1,"message":"250","line":61,"column":17,"nodeType":"237","endLine":61,"endColumn":51},{"ruleId":"217","replacedBy":"253"},{"ruleId":"219","replacedBy":"254"},{"ruleId":"223","severity":1,"message":"255","line":7,"column":8,"nodeType":"225","messageId":"226","endLine":7,"endColumn":21},{"ruleId":"223","severity":1,"message":"256","line":31,"column":10,"nodeType":"225","messageId":"226","endLine":31,"endColumn":14},{"ruleId":"223","severity":1,"message":"257","line":35,"column":9,"nodeType":"225","messageId":"226","endLine":35,"endColumn":21},{"ruleId":"217","replacedBy":"258"},{"ruleId":"219","replacedBy":"259"},{"ruleId":"223","severity":1,"message":"260","line":7,"column":8,"nodeType":"225","messageId":"226","endLine":7,"endColumn":18},{"ruleId":"223","severity":1,"message":"261","line":8,"column":8,"nodeType":"225","messageId":"226","endLine":8,"endColumn":11},{"ruleId":"231","severity":1,"message":"232","line":19,"column":17,"nodeType":"233","messageId":"234","endLine":19,"endColumn":19},{"ruleId":"238","severity":1,"message":"246","line":29,"column":6,"nodeType":"240","endLine":29,"endColumn":8,"suggestions":"262"},{"ruleId":"235","severity":1,"message":"236","line":33,"column":7,"nodeType":"237","endLine":38,"endColumn":9},{"ruleId":"217","replacedBy":"263"},{"ruleId":"219","replacedBy":"264"},{"ruleId":"223","severity":1,"message":"224","line":1,"column":27,"nodeType":"225","messageId":"226","endLine":1,"endColumn":36},{"ruleId":"223","severity":1,"message":"227","line":18,"column":43,"nodeType":"225","messageId":"226","endLine":18,"endColumn":48},{"ruleId":"223","severity":1,"message":"228","line":18,"column":50,"nodeType":"225","messageId":"226","endLine":18,"endColumn":53},{"ruleId":"238","severity":1,"message":"239","line":21,"column":6,"nodeType":"240","endLine":21,"endColumn":8,"suggestions":"265"},{"ruleId":"223","severity":1,"message":"229","line":5,"column":10,"nodeType":"225","messageId":"226","endLine":5,"endColumn":14},{"ruleId":"223","severity":1,"message":"230","line":15,"column":10,"nodeType":"225","messageId":"226","endLine":15,"endColumn":15},{"ruleId":"231","severity":1,"message":"232","line":44,"column":19,"nodeType":"233","messageId":"234","endLine":44,"endColumn":21},{"ruleId":"235","severity":1,"message":"236","line":66,"column":11,"nodeType":"237","endLine":73,"endColumn":13},{"ruleId":"223","severity":1,"message":"248","line":11,"column":24,"nodeType":"225","messageId":"226","endLine":11,"endColumn":39},{"ruleId":"223","severity":1,"message":"242","line":14,"column":10,"nodeType":"225","messageId":"226","endLine":14,"endColumn":16},{"ruleId":"223","severity":1,"message":"228","line":28,"column":10,"nodeType":"225","messageId":"226","endLine":28,"endColumn":13},{"ruleId":"223","severity":1,"message":"243","line":28,"column":15,"nodeType":"225","messageId":"226","endLine":28,"endColumn":21},{"ruleId":"223","severity":1,"message":"244","line":29,"column":21,"nodeType":"225","messageId":"226","endLine":29,"endColumn":33},{"ruleId":"223","severity":1,"message":"245","line":74,"column":23,"nodeType":"225","messageId":"226","endLine":74,"endColumn":37},{"ruleId":"231","severity":1,"message":"232","line":152,"column":24,"nodeType":"233","messageId":"234","endLine":152,"endColumn":26},{"ruleId":"231","severity":1,"message":"232","line":157,"column":22,"nodeType":"233","messageId":"234","endLine":157,"endColumn":24},{"ruleId":"238","severity":1,"message":"246","line":207,"column":6,"nodeType":"240","endLine":207,"endColumn":8,"suggestions":"266"},{"ruleId":"235","severity":1,"message":"236","line":366,"column":29,"nodeType":"237","endLine":375,"endColumn":31},{"ruleId":"235","severity":1,"message":"236","line":417,"column":27,"nodeType":"237","endLine":424,"endColumn":29},{"ruleId":"231","severity":1,"message":"232","line":19,"column":17,"nodeType":"233","messageId":"234","endLine":19,"endColumn":19},{"ruleId":"238","severity":1,"message":"246","line":29,"column":6,"nodeType":"240","endLine":29,"endColumn":8,"suggestions":"267"},{"ruleId":"235","severity":1,"message":"236","line":33,"column":7,"nodeType":"237","endLine":38,"endColumn":9},{"ruleId":"217","replacedBy":"268"},{"ruleId":"219","replacedBy":"269"},{"ruleId":"223","severity":1,"message":"255","line":7,"column":8,"nodeType":"225","messageId":"226","endLine":7,"endColumn":21},{"ruleId":"223","severity":1,"message":"256","line":31,"column":10,"nodeType":"225","messageId":"226","endLine":31,"endColumn":14},{"ruleId":"223","severity":1,"message":"257","line":35,"column":9,"nodeType":"225","messageId":"226","endLine":35,"endColumn":21},"no-native-reassign",["270"],"no-negated-in-lhs",["271"],["270"],["271"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'files' is assigned a value but never used.","'zip' is assigned a value but never used.","'Link' is defined but never used.","'image' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'image' and 'init'. Either include them or remove the dependency array.","ArrayExpression",["272"],"'isNull' is defined but never used.","'setZip' is assigned a value but never used.","'setDeleteZip' is assigned a value but never used.","'setdeleteFiles' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'init'. Either include it or remove the dependency array.",["273"],"'setUserLoggedIN' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","jsx-a11y/role-supports-aria-props","The attribute aria-haspopup is not supported by the role link. This role is implicit on the element a.",["270"],["271"],"'AccountCircle' is defined but never used.","'auth' is assigned a value but never used.","'handleChange' is assigned a value but never used.",["270"],["271"],"'Typography' is defined but never used.","'Box' is defined but never used.",["274"],["270"],["271"],["275"],["276"],["277"],["270"],["271"],"no-global-assign","no-unsafe-negation",{"desc":"278","fix":"279"},{"desc":"280","fix":"281"},{"desc":"280","fix":"282"},{"desc":"278","fix":"283"},{"desc":"280","fix":"284"},{"desc":"280","fix":"285"},"Update the dependencies array to be: [image, init]",{"range":"286","text":"287"},"Update the dependencies array to be: [init]",{"range":"288","text":"289"},{"range":"290","text":"289"},{"range":"291","text":"287"},{"range":"292","text":"289"},{"range":"293","text":"289"},[594,596],"[image, init]",[5597,5599],"[init]",[833,835],[574,576],[5391,5393],[805,807]]