[{"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\index.js":"1","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\App.js":"2","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\Route.js":"3","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Home.js":"4","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Preview.js":"5","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\config.js":"6","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Image.js":"7","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Edit.js":"8","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Modal.js":"9","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Login.js":"10","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Navbar.js":"11","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\index.js":"12","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\AdminRoute.js":"13","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Dropdown.js":"14","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\MaterialNavbar.js":"15","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Tab.js":"16","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\LightBox.js":"17","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\index.js":"18","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\Route.js":"19","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Home.js":"20","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Image.js":"21","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Preview.js":"22","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Login.js":"23","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\AdminRoute.js":"24","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Edit.js":"25","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\config.js":"26","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\LightBox.js":"27","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\index.js":"28","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\Modal.js":"29","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\MaterialNavbar.js":"30"},{"size":225,"mtime":1609907645228,"results":"31","hashOfConfig":"32"},{"size":104,"mtime":1609907290391,"results":"33","hashOfConfig":"32"},{"size":949,"mtime":1610767624074,"results":"34","hashOfConfig":"32"},{"size":5826,"mtime":1610959933483,"results":"35","hashOfConfig":"32"},{"size":4366,"mtime":1611132791389,"results":"36","hashOfConfig":"32"},{"size":51,"mtime":1610008253897,"results":"37","hashOfConfig":"32"},{"size":1499,"mtime":1611127396424,"results":"38","hashOfConfig":"32"},{"size":14418,"mtime":1611115696902,"results":"39","hashOfConfig":"32"},{"size":1230,"mtime":1610093075506,"results":"40","hashOfConfig":"32"},{"size":2414,"mtime":1610683295879,"results":"41","hashOfConfig":"32"},{"size":3769,"mtime":1610681842119,"results":"42","hashOfConfig":"32"},{"size":276,"mtime":1610617135439,"results":"43","hashOfConfig":"32"},{"size":450,"mtime":1610614804265,"results":"44","hashOfConfig":"32"},{"size":1008,"mtime":1610615154861,"results":"45","hashOfConfig":"32"},{"size":3826,"mtime":1610698511856,"results":"46","hashOfConfig":"32"},{"size":1965,"mtime":1610947872730,"results":"47","hashOfConfig":"32"},{"size":1636,"mtime":1611133343170,"results":"48","hashOfConfig":"32"},{"size":225,"mtime":1611207157827,"results":"49","hashOfConfig":"50"},{"size":920,"mtime":1611207157813,"results":"51","hashOfConfig":"50"},{"size":5707,"mtime":1611470657821,"results":"52","hashOfConfig":"50"},{"size":1334,"mtime":1611470665242,"results":"53","hashOfConfig":"50"},{"size":4035,"mtime":1611470678809,"results":"54","hashOfConfig":"50"},{"size":2273,"mtime":1611470681846,"results":"55","hashOfConfig":"50"},{"size":433,"mtime":1611207157814,"results":"56","hashOfConfig":"50"},{"size":13700,"mtime":1611470651005,"results":"57","hashOfConfig":"50"},{"size":212,"mtime":1611294653935,"results":"58","hashOfConfig":"50"},{"size":1538,"mtime":1611307770093,"results":"59","hashOfConfig":"50"},{"size":263,"mtime":1611207157815,"results":"60","hashOfConfig":"50"},{"size":1187,"mtime":1611207157819,"results":"61","hashOfConfig":"50"},{"size":4000,"mtime":1611306957062,"results":"62","hashOfConfig":"50"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"1v4cli3",{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"65"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"65"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"65"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"65"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"65"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"65"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},"42t9c",{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"111"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"138"},"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\index.js",[],["139","140"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\App.js",[],["141","142"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\Route.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Home.js",["143","144","145"],"import React, { useState, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\n\r\nconst Home = () => {\r\n  const [values, setValues] = useState({\r\n    web_name: '',\r\n    web_url: '',\r\n    web_details: '',\r\n    files: '',\r\n    zip: '',\r\n  });\r\n\r\n  const { web_name, web_details, web_url, files, zip } = values;\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    for (const name in values) {\r\n      if (name === 'files') {\r\n        for (let i = 0; i < values.files.length; i++) {\r\n          formData.append(name, values.files[i]);\r\n        }\r\n      }\r\n      if (name === 'zip') {\r\n        for (let i = 0; i < values.zip.length; i++) {\r\n          formData.append(name, values.zip[i]);\r\n        }\r\n      }\r\n      formData.append(name, values[name]);\r\n    }\r\n    Axios.post(`${API}/insert`, formData).then((data) => {\r\n      toast.dark('Upload Successful', { closeOnClick: true, autoClose: 1000 });\r\n    });\r\n    setValues({\r\n      ...values,\r\n      web_name: '',\r\n      web_url: '',\r\n      web_details: '',\r\n      files: '',\r\n    });\r\n    // const preview = document.getElementById('imgPre');\r\n    // for (let i = 0; i < preview.innerHTML.length; i++) {\r\n    //   preview.parentNode.removeChild(preview);\r\n    // }\r\n    // console.log(preview.innerHTML.length);\r\n\r\n    // const elem = document.querySelector('#image_preview');\r\n    // elem.parentNode.removeChild(elem);\r\n    // const imgDiv = document.createElement('img');\r\n    // imgDiv.setAttribute('id', 'image_preview');\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 2000);\r\n  };\r\n\r\n  const handleFiles = (event) => {\r\n    event.preventDefault();\r\n    const total_file = document.getElementById('image').files.length;\r\n    for (let i = 0; i < total_file; i++) {\r\n      const img = document.createElement('img');\r\n      img.setAttribute('id', 'imgPre');\r\n      img.style.width = '150px';\r\n      img.src = URL.createObjectURL(event.target.files[i]);\r\n      const imgId = document.getElementById('image_preview');\r\n      imgId.appendChild(img);\r\n    }\r\n    setValues({ ...values, files: event.target.files });\r\n    console.log(event.target.files);\r\n  };\r\n\r\n  const handleZip = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, zip: event.target.files });\r\n    console.log(event.target.files);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MaterialNavbar />\r\n      <div className=\"container my-5\">\r\n        <div id=\"image_preview\" className=\"d-flex flex-row\"></div>\r\n        <form onSubmit={submitForm} encType=\"multipart/form-data\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n              ชื่อเว็บไซต์\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"w_name\"\r\n              id=\"w_name\"\r\n              className=\"form-control\"\r\n              value={web_name}\r\n              required\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_name: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\r\n              Link URL\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              name=\"w_url\"\r\n              id=\"w_url\"\r\n              className=\"form-control\"\r\n              required\r\n              value={web_url}\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_url: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formFile\" className=\"form-label\">\r\n              รูปภาพ\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"image\"\r\n              name=\"image\"\r\n              className=\"form-control\"\r\n              multiple\r\n              onChange={handleFiles}\r\n              accept=\"image/*\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formFile\" className=\"form-label\">\r\n              Zip\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"zip\"\r\n              name=\"zip\"\r\n              className=\"form-control\"\r\n              multiple\r\n              onChange={handleZip}\r\n              accept=\".zip,.rar,.7zip\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">\r\n              คำอธิบาย\r\n            </label>\r\n            <textarea\r\n              input\r\n              type=\"text\"\r\n              name=\"w_details\"\r\n              id=\"w_details\"\r\n              className=\"form-control\"\r\n              required\r\n              value={web_details}\r\n              onChange={(e) =>\r\n                setValues({ ...values, web_details: e.target.value })\r\n              }\r\n            ></textarea>\r\n          </div>\r\n          <input\r\n            className=\"btn btn-dark\"\r\n            style={{ marginRight: '5px' }}\r\n            value=\"อัพโหลด\"\r\n            type=\"submit\"\r\n          />\r\n          <Link to=\"/preview\">\r\n            <button className=\"btn btn-primary mr-2\">ดูข้อมูลทั้งหมด</button>\r\n          </Link>\r\n          <Link to=\"/\" onClick={() => window.location.reload()}>\r\n            <button className=\"btn btn-danger\">ล้าง</button>\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Preview.js",["146","147","148","149"],"import React, { useState, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport moment from 'moment';\r\nimport { API } from '../config';\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Modal from '../componenets/Modal';\r\nimport { Grid, _ } from 'gridjs-react';\r\nimport 'gridjs/dist/theme/mermaid.css';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport LightBox from '../componenets/LightBox';\r\n\r\nconst Preview = () => {\r\n  const [dataRow, setdataRow] = useState([]);\r\n  const [image, setImage] = useState([]);\r\n\r\n  const init = () => {\r\n    Axios.get(`${API}/list`).then((result) => {\r\n      setdataRow(result.data);\r\n    });\r\n    Axios.get(`${API}/image`).then((result) => {\r\n      setImage(result.data);\r\n    });\r\n  };\r\n\r\n  const gotoURL = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  console.log(dataRow);\r\n\r\n  const handleDelete = (link) => {\r\n    Axios.delete(`${API}/delete`, { data: { deleteId: link } }).then((data) => {\r\n      console.log(link);\r\n      toast.success('Delete Successful', {\r\n        closeOnClick: true,\r\n        duration: 1500,\r\n      });\r\n      init();\r\n    });\r\n  };\r\n\r\n  const dataArray = [];\r\n  dataRow.map((e) => {\r\n    dataArray.push([\r\n      e.web_id,\r\n      _(\r\n        <LightBox img={e.img_path} webId={e.web_id} />\r\n        // e.img_path ? (\r\n        //   <a href={`/image/${e.web_id}`}>\r\n        //     <img\r\n        //       src={`${process.env.PUBLIC_URL}/assets/${e.img_path}`}\r\n        //       style={{ width: '50px' }}\r\n        //     />\r\n        //   </a>\r\n        // ) : (\r\n        //   'ไม่มีรูปแสดง'\r\n        // )\r\n      ),\r\n      e.web_name.slice(0, 20),\r\n      e.web_url.slice(0, 30),\r\n      e.web_details.slice(0, 30),\r\n      moment(e.timestamp).format('lll'),\r\n      _(\r\n        e.zip_path !== null ? (\r\n          <img\r\n            style={{ width: '30px' }}\r\n            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\r\n            onClick={() =>\r\n              window.open(`${process.env.PUBLIC_URL}/zip/${e.zip_path}`)\r\n            }\r\n            type=\"submit\"\r\n          />\r\n        ) : (\r\n          'No'\r\n        )\r\n      ),\r\n      _(\r\n        <div className=\"ml-1\">\r\n          <button\r\n            onClick={() => gotoURL(e.web_url)}\r\n            className=\"btn btn-success p-1\"\r\n          >\r\n            <i className=\"fas fa-external-link-alt\"></i>\r\n          </button>\r\n          <a href={`/image/${e.web_id}`}>\r\n            <button className=\"btn btn-warning  p-1\">\r\n              <i className=\"fas fa-clone\"></i>\r\n            </button>\r\n          </a>\r\n          <a href={`/edit/${e.web_id}`}>\r\n            <button className=\"btn btn-primary  p-1\">\r\n              <i className=\"fas fa-pen\"></i>\r\n            </button>\r\n          </a>\r\n          <Modal\r\n            deleteLink={handleDelete}\r\n            LinkId={e.web_id}\r\n            linkName={e.web_name}\r\n          >\r\n            <button className=\"btn btn-danger  p-1\">\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n          </Modal>\r\n        </div>\r\n      ),\r\n    ]);\r\n  });\r\n\r\n  // const data = {\r\n  //   columns: [\r\n  //     { label: 'id', field: 'web_id', sort: 'asc' },\r\n  //     { label: 'name', field: 'web_name', sort: 'asc' },\r\n  //     { label: 'url', field: 'web_url', sort: 'asc' },\r\n  //     { label: 'details', field: 'web_details', sort: 'asc' },\r\n  //     { label: 'createdAt', field: 'createdAt', sort: 'asc', width: 150 },\r\n  //     { label: 'Action', field: 'action', sort: 'asc' },\r\n  //   ],\r\n  //   rows: dataArray,\r\n  // };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"m-2\">\r\n        {/* <MDBDataTable\r\n        className=\"mt-5\"\r\n        striped\r\n        bordered\r\n        small\r\n        data={data}\r\n        responsive={true}\r\n      /> */}\r\n        <Grid\r\n          data={dataArray}\r\n          columns={[\r\n            'id',\r\n            'image',\r\n            'name',\r\n            'url',\r\n            'details',\r\n            'createdAt',\r\n            'Zip',\r\n            'Action',\r\n          ]}\r\n          search={true}\r\n          sort={true}\r\n          fixedHeader={true}\r\n          pagination={{ enabled: true, limit: 10 }}\r\n          style={{ margin: '0 auto' }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Preview;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\config.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Image.js",["150"],"import React, { useEffect, useState } from 'react';\r\nimport SimpleReactLightbox, { SRLWrapper } from 'simple-react-lightbox';\r\nimport Axios from 'axios';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\n\r\nconst Image = ({ match }) => {\r\n  const [image, setImage] = useState([]);\r\n\r\n  const init = () => {\r\n    const id = match.params.webId;\r\n    Axios.post(`${API}/image`, { web_id: id }).then((result) => {\r\n      setImage(result.data);\r\n      console.log(image);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    console.log(image);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"container p-5\">\r\n        {image && <h4>จำนวนรูปทั้งหมด : {image && image.length}</h4>}\r\n        <SimpleReactLightbox>\r\n          <SRLWrapper>\r\n            {image.map((i) => (\r\n              <a href={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}>\r\n                <img\r\n                  src={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}\r\n                  alt={i.img_id}\r\n                  style={{\r\n                    maxWidth: '300px',\r\n                    height: '300px',\r\n                    borderRadius: '10px',\r\n                  }}\r\n                  className=\"card card-1 m-3\"\r\n                />\r\n              </a>\r\n            ))}\r\n          </SRLWrapper>\r\n        </SimpleReactLightbox>\r\n        {console.log(image)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Edit.js",["151","152","153","154","155","156","157","158","159","160"],"import React, { useState, useEffect, Fragment } from 'react';\r\nimport Axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { API } from '../config';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { isNull } from 'lodash';\r\n\r\nconst Edit = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    web_id: '',\r\n    web_name: '',\r\n    web_url: '',\r\n    web_details: '',\r\n    files: [],\r\n    fileUpdate: '',\r\n    zips: [],\r\n    zipUpdate: '',\r\n  });\r\n\r\n  const [zip, setZip] = useState([]);\r\n  const [deleteZip, setDeleteZip] = useState([]);\r\n\r\n  function TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`simple-tabpanel-${index}`}\r\n        aria-labelledby={`simple-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && <>{children}</>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n\r\n  function a11yProps(index) {\r\n    return {\r\n      id: `simple-tab-${index}`,\r\n      'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const [deleteFiles, setdeleteFiles] = useState([]);\r\n\r\n  const {\r\n    web_id,\r\n    web_name,\r\n    web_details,\r\n    web_url,\r\n    files,\r\n    fileUpdate,\r\n    zips,\r\n    zipUpdate,\r\n  } = values;\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    await Axios.put(`${API}/update`, values).then((data) => {\r\n      toast.dark('Upload Successful');\r\n      setTimeout(window.location.reload(), 1500);\r\n      setTimeout(init(), 1500);\r\n    });\r\n\r\n    if (fileUpdate.length > 0) {\r\n      const formData = new FormData();\r\n      for (let i = 0; i < values.fileUpdate.length; i++) {\r\n        formData.append('fileUpdate', values.fileUpdate[i]);\r\n      }\r\n      formData.append('webId', web_id);\r\n      await Axios.post(`${API}/imageUpdate`, formData).then((data) => {\r\n        init();\r\n      });\r\n    }\r\n    if (zipUpdate.length > 0) {\r\n      const formDataZip = new FormData();\r\n      for (let i = 0; i < values.zipUpdate.length; i++) {\r\n        formDataZip.append('zipUpdate', values.zipUpdate[i]);\r\n      }\r\n      formDataZip.append('webId', web_id);\r\n      await Axios.post(`${API}/zipUpdate`, formDataZip).then((data) => {\r\n        init();\r\n      });\r\n    }\r\n    if (deleteFiles.length > 0) {\r\n      await Axios.post(`${API}/deleteImage`, {\r\n        deleteFiles,\r\n      }).then((data) => {});\r\n    }\r\n    if (deleteZip.length > 0) {\r\n      await Axios.post(`${API}/deleteZip`, { deleteZip }).then((data) => {});\r\n    }\r\n  };\r\n\r\n  const handleFiles = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, fileUpdate: event.target.files });\r\n    const total_file = document.getElementById('image').files.length;\r\n    for (let i = 0; i < total_file; i++) {\r\n      const img = document.createElement('img');\r\n      img.setAttribute('id', 'imgPre');\r\n      img.style.width = '150px';\r\n      img.src = URL.createObjectURL(event.target.files[i]);\r\n      const imgId = document.getElementById('image_preview');\r\n      imgId.appendChild(img);\r\n    }\r\n    console.log(fileUpdate);\r\n  };\r\n\r\n  const handleZips = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, zipUpdate: event.target.files });\r\n  };\r\n\r\n  const init = async () => {\r\n    const webId = match.params.webId;\r\n\r\n    await Axios.post(`${API}/data`, { web_id: webId }).then((result) => {\r\n      const { data } = result;\r\n      const [{ web_id, web_name, web_url, web_details }] = data;\r\n      const imageArray = [];\r\n      data.map((image) => {\r\n        imageArray.push(image.img_path);\r\n      });\r\n\r\n      const zipArray = [];\r\n      data.map((zip) => {\r\n        zipArray.push(zip.zip_path);\r\n      });\r\n\r\n      const imageSet = [...new Set(imageArray)];\r\n      const zipSet = [...new Set(zipArray)];\r\n\r\n      console.log(zipSet);\r\n\r\n      setValues({\r\n        ...values,\r\n        web_id,\r\n        web_name,\r\n        web_url,\r\n        web_details,\r\n        files: imageSet,\r\n        fileUpdate: '',\r\n        zips: zipSet.filter((zip) => zip != null),\r\n      });\r\n    });\r\n  };\r\n\r\n  console.log(values);\r\n\r\n  const handleFileDelete = (file) => {\r\n    const index = files.indexOf(file);\r\n    deleteFiles.push(file);\r\n    if (index !== -1) {\r\n      files.splice(index, 1);\r\n    }\r\n    console.log(deleteFiles);\r\n\r\n    // const d = document.getElementById(file);\r\n    // d.parentNode.removeChild(d);\r\n    setValues({ ...values, files: files });\r\n  };\r\n\r\n  const handleZipDelete = (zipFile) => {\r\n    const index = zips.indexOf(zipFile);\r\n    deleteZip.push(zipFile);\r\n    if (index !== -1) {\r\n      zips.splice(index, 1);\r\n    }\r\n    console.log(zips);\r\n    console.log(deleteZip);\r\n    setValues({ ...values, zips: zips });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <MaterialNavbar />\r\n      <div className=\"m-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-5\">\r\n            <form onSubmit={submitForm} encType=\"multipart/form-data\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n                  ไอดีเว็บ\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  disabled\r\n                  name=\"w_name\"\r\n                  id=\"w_name\"\r\n                  className=\"form-control\"\r\n                  value={web_id}\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\r\n                  ชื่อเว็บไซต์\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"w_name\"\r\n                  id=\"w_name\"\r\n                  className=\"form-control\"\r\n                  value={web_name}\r\n                  required\r\n                  onChange={(e) =>\r\n                    setValues({ ...values, web_name: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\r\n                  Link URL\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  name=\"w_url\"\r\n                  id=\"w_url\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  value={web_url}\r\n                  onChange={(e) =>\r\n                    setValues({ ...values, web_url: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formFile\" className=\"form-label\">\r\n                  รูปภาพ\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"image\"\r\n                  name=\"image\"\r\n                  className=\"form-control\"\r\n                  multiple\r\n                  onChange={handleFiles}\r\n                  accept=\"image/*\"\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formFile\" className=\"form-label\">\r\n                  Zip\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"zip\"\r\n                  name=\"zip\"\r\n                  className=\"form-control\"\r\n                  multiple\r\n                  onChange={handleZips}\r\n                  accept=\".zip,.rar,.7zip\"\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label\r\n                  htmlFor=\"exampleFormControlTextarea1\"\r\n                  className=\"form-label\"\r\n                >\r\n                  คำอธิบาย\r\n                </label>\r\n                <textarea\r\n                  input\r\n                  type=\"text\"\r\n                  name=\"w_details\"\r\n                  id=\"w_details\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  value={web_details}\r\n                  onChange={(e) =>\r\n                    setValues({\r\n                      ...values,\r\n                      web_details: e.target.value,\r\n                    })\r\n                  }\r\n                ></textarea>\r\n              </div>\r\n              <input\r\n                className=\"btn btn-success\"\r\n                style={{ marginRight: '5px' }}\r\n                value=\"อัพเดต\"\r\n                type=\"submit\"\r\n              />\r\n              <Link to=\"/preview\">\r\n                <button className=\"btn btn-primary\">ดูข้อมูลทั้งหมด</button>\r\n              </Link>\r\n            </form>\r\n          </div>\r\n          <div id=\"image_preview\" className=\"col-md-7 mt-3\">\r\n            <div className={classes.root}>\r\n              <AppBar position=\"static\">\r\n                <Tabs\r\n                  value={value}\r\n                  onChange={handleChange}\r\n                  aria-label=\"simple tabs example\"\r\n                >\r\n                  <Tab label=\"Image\" {...a11yProps(0)} />\r\n                  <Tab label=\"Zip\" {...a11yProps(1)} />\r\n                </Tabs>\r\n              </AppBar>\r\n              <TabPanel value={value} index={0}>\r\n                <div className=\"m-5\">\r\n                  {files[0] !== null ? (\r\n                    <>\r\n                      {files.map((f, i) => (\r\n                        <>\r\n                          <div\r\n                            className=\"ml-2\"\r\n                            style={{\r\n                              position: 'relative',\r\n                              display: 'inline-block',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              className=\"deleteImg\"\r\n                              id={f}\r\n                              onClick={() => handleFileDelete(f)}\r\n                              style={{\r\n                                position: 'absolute',\r\n                                backgroundColor: 'orange',\r\n                                width: '25px',\r\n                                right: '0',\r\n                                color: 'white',\r\n                                textAlign: 'center',\r\n                                marginRight: '4px',\r\n                                cursor: 'pointer',\r\n                              }}\r\n                            >\r\n                              <CloseIcon />\r\n                            </div>\r\n                            <img\r\n                              key={i}\r\n                              id={f}\r\n                              src={`${process.env.PUBLIC_URL}/assets/${f}`}\r\n                              style={{\r\n                                width: '150px',\r\n                                height: '150px',\r\n                              }}\r\n                              className=\"mr-1 mb-1\"\r\n                            />\r\n                          </div>\r\n                        </>\r\n                      ))}\r\n                    </>\r\n                  ) : (\r\n                    <Fragment> </Fragment>\r\n                  )}\r\n                </div>\r\n              </TabPanel>\r\n              <TabPanel value={value} index={1}>\r\n                <div className=\"my-3\">\r\n                  {zips[0] !== null\r\n                    ? zips.map((z, i) => (\r\n                        <div\r\n                          key={i}\r\n                          id=\"zipload\"\r\n                          className=\"zipload text-center mr-2 p-5 mb-2\"\r\n                          style={{\r\n                            display: 'inline-block',\r\n                            backgroundColor: 'rgb(249 249 249)',\r\n                            borderRadius: '10px',\r\n                            position: 'relative',\r\n                          }}\r\n                        >\r\n                          <div\r\n                            id={z}\r\n                            className=\"deleteImg\"\r\n                            onClick={() => handleZipDelete(z)}\r\n                            style={{\r\n                              position: 'absolute',\r\n                              backgroundColor: 'orange',\r\n                              width: '25px',\r\n                              top: 0,\r\n                              right: '0',\r\n                              color: 'white',\r\n                              textAlign: 'center',\r\n                              cursor: 'pointer',\r\n                            }}\r\n                          >\r\n                            <CloseIcon />\r\n                          </div>\r\n                          <img\r\n                            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\r\n                            style={{ maxWidth: '50px' }}\r\n                            onClick={() =>\r\n                              window.open(`${process.env.PUBLIC_URL}/zip/${z}`)\r\n                            }\r\n                            type=\"submit\"\r\n                          />\r\n                          <h6\r\n                            className=\"mt-2\"\r\n                            style={{ display: 'inline-block' }}\r\n                          >\r\n                            {z.slice(0, 10).toLowerCase()}\r\n                          </h6>\r\n                        </div>\r\n                      ))\r\n                    : 'ไม่มีการอัพโหลด'}\r\n                </div>\r\n              </TabPanel>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Modal.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\core\\Login.js",["161"],"import React, { useState, useEffect } from 'react';\r\nimport { API } from '../config';\r\nimport Axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport MaterialNavbar from '../componenets/MaterialNavbar';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [userLoggedIN, setUserLoggedIN] = useState('');\r\n  const [logged, setLogged] = useState(false);\r\n\r\n  Axios.defaults.withCredentials = true;\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    Axios.post(`${API}/login`, {\r\n      username: username,\r\n      password: password,\r\n    }).then((response) => {\r\n      console.log(response);\r\n      if (!response.data.auth) {\r\n        setLogged(false);\r\n        toast.error(response.data.message);\r\n      } else {\r\n        localStorage.setItem('token', JSON.stringify(response.data));\r\n        setLogged(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const RedirectTo = () => {\r\n    if (logged) {\r\n      return <Redirect to=\"/insert\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios.get(`${API}/login`).then((response) => {\r\n      console.log(response);\r\n      if (response.data.loggedIn === true) {\r\n        setLogged(true);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <MaterialNavbar />\r\n      <div className=\"container mt-5 w-50 justify-content-center align-items-center\">\r\n        {RedirectTo()}\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"exampleInputEmail1\">Username</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              autoFocus\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <button onClick={(e) => handleSubmit(e)} class=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n          <h1>{userLoggedIN}</h1>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Navbar.js",["162","163","164","165","166","167","168","169","170"],"import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth/index';\r\n\r\nconst Navbar = ({ history }) => {\r\n  return (\r\n    <>\r\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <a class=\"navbar-brand\" href=\"#\">\r\n          Navbar\r\n        </a>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNavDropdown\"\r\n          aria-controls=\"navbarNavDropdown\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\r\n          <ul class=\"navbar-nav\">\r\n            <li class=\"nav-item active\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Home <span class=\"sr-only\">(current)</span>\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Features\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\">\r\n                Pricing\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item dropdown\">\r\n              <a\r\n                class=\"nav-link dropdown-toggle\"\r\n                href=\"#\"\r\n                id=\"navbarDropdownMenuLink\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                Dropdown link\r\n              </a>\r\n              <div\r\n                class=\"dropdown-menu\"\r\n                aria-labelledby=\"navbarDropdownMenuLink\"\r\n              >\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Action\r\n                </a>\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Another action\r\n                </a>\r\n                <a class=\"dropdown-item\" href=\"#\">\r\n                  Something else here\r\n                </a>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark text-white\">\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"navbar-brand\" href=\"/insert\">\r\n                Link Preview\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"navbar-brand\" href=\"/insert\">\r\n                Add image\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"navbar-brand\" href=\"/preview\">\r\n                Edit\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {isAuthenticated().auth && (\r\n            <button\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push('/');\r\n                })\r\n              }\r\n              className=\"btn btn-outline-success my-2 my-sm-0\"\r\n              type=\"submit\"\r\n            >\r\n              <i className=\"fas fa-sign-out-alt\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n",["171","172"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\index.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\auth\\AdminRoute.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Dropdown.js",[],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\MaterialNavbar.js",["173","174","175"],"import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport ImageSharpIcon from '@material-ui/icons/ImageSharp';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth/index';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/insert');\r\n            }}\r\n          >\r\n            <ImageSharpIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Link Preview\r\n          </Typography>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/preview');\r\n            }}\r\n          >\r\n            <ViewListIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => {\r\n              history.push('/insert');\r\n            }}\r\n          >\r\n            <AddPhotoAlternateIcon />\r\n          </IconButton>\r\n\r\n          {isAuthenticated().auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <FaceIcon />\r\n              </IconButton>\r\n\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem\r\n                  onClick={() =>\r\n                    signout(() => {\r\n                      history.push('/');\r\n                    })\r\n                  }\r\n                >\r\n                  Log out\r\n                </MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n",["176","177"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\Tab.js",["178","179"],"C:\\Users\\User\\Desktop\\multer-image\\client\\src\\componenets\\LightBox.js",["180","181","182"],"import React, { useState, useEffect } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport Axios from 'axios';\r\nimport { API } from '../config';\r\n\r\nconst LightboxExample = ({ img, webId }) => {\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [image, setImage] = useState([]);\r\n  const images = [`${process.env.PUBLIC_URL}/assets/${img}`];\r\n\r\n  const init = () => {\r\n    Axios.post(`${API}/image`, { web_id: webId }).then((result) => {\r\n      setImage(result.data);\r\n    });\r\n  };\r\n\r\n  image.map((p) => {\r\n    let imgpath = `${process.env.PUBLIC_URL}/assets/${p.img_path}`;\r\n    images.push(imgpath);\r\n  });\r\n\r\n  const images2 = [...new Set(images)];\r\n\r\n  useEffect(() => {\r\n    init();\r\n    setPhotoIndex(0);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        src={`${process.env.PUBLIC_URL}/assets/${img}`}\r\n        style={{ width: '50px' }}\r\n        type=\"button\"\r\n        onClick={() => setIsOpen(true)}\r\n      />\r\n      {isOpen && (\r\n        <Lightbox\r\n          mainSrc={images2[photoIndex]}\r\n          nextSrc={images2[(photoIndex + 1) % images2.length]}\r\n          prevSrc={images2[(photoIndex + images2.length - 1) % images2.length]}\r\n          onCloseRequest={() => setIsOpen(false)}\r\n          onMovePrevRequest={() =>\r\n            setPhotoIndex((photoIndex + images2.length - 1) % images2.length)\r\n          }\r\n          onMoveNextRequest={() =>\r\n            setPhotoIndex((photoIndex + 1) % images2.length)\r\n          }\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LightboxExample;\r\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\index.js",[],["183","184"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\Route.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Home.js",["185","186","187"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Image.js",["188"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Preview.js",["189","190","191","192","193","194"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Login.js",["195"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\AdminRoute.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\core\\Edit.js",["196","197","198","199","200","201","202","203","204"],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\config.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\LightBox.js",["205","206","207"],"import React, { useState, useEffect } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\nimport Axios from 'axios';\nimport { API, IMG_URL } from '../config';\n\nconst LightboxExample = ({ img, webId }) => {\n  const [photoIndex, setPhotoIndex] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [image, setImage] = useState([]);\n  const images = [`${IMG_URL}/${img}`];\n\n  const init = () => {\n    Axios.post(`${API}/image`, { web_id: webId }).then((result) => {\n      setImage(result.data);\n    });\n  };\n\n  image.map((p) => {\n    let imgpath = `${IMG_URL}/${p.img_path}`;\n    images.push(imgpath);\n  });\n\n  const images2 = [...new Set(images)];\n\n  useEffect(() => {\n    init();\n    setPhotoIndex(0);\n  }, []);\n\n  return (\n    <div>\n      <img\n        src={`${IMG_URL}/${img}`}\n        style={{ width: '50px', height: '50px' }}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      />\n      {isOpen && (\n        <Lightbox\n          mainSrc={images2[photoIndex]}\n          nextSrc={images2[(photoIndex + 1) % images2.length]}\n          prevSrc={images2[(photoIndex + images2.length - 1) % images2.length]}\n          onCloseRequest={() => setIsOpen(false)}\n          onMovePrevRequest={() =>\n            setPhotoIndex((photoIndex + images2.length - 1) % images2.length)\n          }\n          onMoveNextRequest={() =>\n            setPhotoIndex((photoIndex + 1) % images2.length)\n          }\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LightboxExample;\n","C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\auth\\index.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\Modal.js",[],"C:\\Users\\User\\Desktop\\imagePreview\\client\\src\\componenets\\MaterialNavbar.js",["208","209","210"],"import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ImageSharpIcon from '@material-ui/icons/ImageSharp';\nimport { useHistory } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth/index';\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const [auth, setAuth] = React.useState(true);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleChange = (event) => {\n    setAuth(event.target.checked);\n  };\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const history = useHistory();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <ImageSharpIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Link Preview\n          </Typography>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/preview');\n            }}\n          >\n            <ViewListIcon />\n            <Typography variant=\"body1\" className={classes.title}>\n              {' '}\n              รายการ\n            </Typography>\n          </IconButton>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <AddPhotoAlternateIcon />\n            <Typography variant=\"body1\" className={classes.title}>\n              {' '}\n              เพิ่มลิ้งค์\n            </Typography>\n          </IconButton>\n\n          {isAuthenticated().auth && (\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <FaceIcon />\n              </IconButton>\n\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem\n                  onClick={() =>\n                    signout(() => {\n                      history.push('/');\n                    })\n                  }\n                >\n                  Log out\n                </MenuItem>\n              </Menu>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n",["211","212"],{"ruleId":"213","replacedBy":"214"},{"ruleId":"215","replacedBy":"216"},{"ruleId":"213","replacedBy":"217"},{"ruleId":"215","replacedBy":"218"},{"ruleId":"219","severity":1,"message":"220","line":1,"column":27,"nodeType":"221","messageId":"222","endLine":1,"endColumn":36},{"ruleId":"219","severity":1,"message":"223","line":18,"column":43,"nodeType":"221","messageId":"222","endLine":18,"endColumn":48},{"ruleId":"219","severity":1,"message":"224","line":18,"column":50,"nodeType":"221","messageId":"222","endLine":18,"endColumn":53},{"ruleId":"219","severity":1,"message":"225","line":5,"column":10,"nodeType":"221","messageId":"222","endLine":5,"endColumn":14},{"ruleId":"219","severity":1,"message":"226","line":15,"column":10,"nodeType":"221","messageId":"222","endLine":15,"endColumn":15},{"ruleId":"227","severity":1,"message":"228","line":44,"column":19,"nodeType":"229","messageId":"230","endLine":44,"endColumn":21},{"ruleId":"231","severity":1,"message":"232","line":66,"column":11,"nodeType":"233","endLine":73,"endColumn":13},{"ruleId":"234","severity":1,"message":"235","line":21,"column":6,"nodeType":"236","endLine":21,"endColumn":8,"suggestions":"237"},{"ruleId":"219","severity":1,"message":"238","line":14,"column":10,"nodeType":"221","messageId":"222","endLine":14,"endColumn":16},{"ruleId":"219","severity":1,"message":"224","line":28,"column":10,"nodeType":"221","messageId":"222","endLine":28,"endColumn":13},{"ruleId":"219","severity":1,"message":"239","line":28,"column":15,"nodeType":"221","messageId":"222","endLine":28,"endColumn":21},{"ruleId":"219","severity":1,"message":"240","line":29,"column":21,"nodeType":"221","messageId":"222","endLine":29,"endColumn":33},{"ruleId":"219","severity":1,"message":"241","line":74,"column":23,"nodeType":"221","messageId":"222","endLine":74,"endColumn":37},{"ruleId":"227","severity":1,"message":"228","line":152,"column":24,"nodeType":"229","messageId":"230","endLine":152,"endColumn":26},{"ruleId":"227","severity":1,"message":"228","line":157,"column":22,"nodeType":"229","messageId":"230","endLine":157,"endColumn":24},{"ruleId":"234","severity":1,"message":"242","line":207,"column":6,"nodeType":"236","endLine":207,"endColumn":8,"suggestions":"243"},{"ruleId":"231","severity":1,"message":"232","line":366,"column":29,"nodeType":"233","endLine":375,"endColumn":31},{"ruleId":"231","severity":1,"message":"232","line":417,"column":27,"nodeType":"233","endLine":424,"endColumn":29},{"ruleId":"219","severity":1,"message":"244","line":11,"column":24,"nodeType":"221","messageId":"222","endLine":11,"endColumn":39},{"ruleId":"245","severity":1,"message":"246","line":9,"column":9,"nodeType":"233","endLine":9,"endColumn":42},{"ruleId":"245","severity":1,"message":"246","line":26,"column":15,"nodeType":"233","endLine":26,"endColumn":44},{"ruleId":"245","severity":1,"message":"246","line":31,"column":15,"nodeType":"233","endLine":31,"endColumn":44},{"ruleId":"245","severity":1,"message":"246","line":36,"column":15,"nodeType":"233","endLine":36,"endColumn":44},{"ruleId":"245","severity":1,"message":"246","line":41,"column":15,"nodeType":"233","endLine":48,"endColumn":16},{"ruleId":"247","severity":1,"message":"248","line":41,"column":15,"nodeType":"233","endLine":48,"endColumn":16},{"ruleId":"245","severity":1,"message":"246","line":55,"column":17,"nodeType":"233","endLine":55,"endColumn":51},{"ruleId":"245","severity":1,"message":"246","line":58,"column":17,"nodeType":"233","endLine":58,"endColumn":51},{"ruleId":"245","severity":1,"message":"246","line":61,"column":17,"nodeType":"233","endLine":61,"endColumn":51},{"ruleId":"213","replacedBy":"249"},{"ruleId":"215","replacedBy":"250"},{"ruleId":"219","severity":1,"message":"251","line":7,"column":8,"nodeType":"221","messageId":"222","endLine":7,"endColumn":21},{"ruleId":"219","severity":1,"message":"252","line":31,"column":10,"nodeType":"221","messageId":"222","endLine":31,"endColumn":14},{"ruleId":"219","severity":1,"message":"253","line":35,"column":9,"nodeType":"221","messageId":"222","endLine":35,"endColumn":21},{"ruleId":"213","replacedBy":"254"},{"ruleId":"215","replacedBy":"255"},{"ruleId":"219","severity":1,"message":"256","line":7,"column":8,"nodeType":"221","messageId":"222","endLine":7,"endColumn":18},{"ruleId":"219","severity":1,"message":"257","line":8,"column":8,"nodeType":"221","messageId":"222","endLine":8,"endColumn":11},{"ruleId":"227","severity":1,"message":"228","line":19,"column":17,"nodeType":"229","messageId":"230","endLine":19,"endColumn":19},{"ruleId":"234","severity":1,"message":"242","line":29,"column":6,"nodeType":"236","endLine":29,"endColumn":8,"suggestions":"258"},{"ruleId":"231","severity":1,"message":"232","line":33,"column":7,"nodeType":"233","endLine":38,"endColumn":9},{"ruleId":"213","replacedBy":"259"},{"ruleId":"215","replacedBy":"260"},{"ruleId":"219","severity":1,"message":"220","line":1,"column":27,"nodeType":"221","messageId":"222","endLine":1,"endColumn":36},{"ruleId":"219","severity":1,"message":"223","line":19,"column":43,"nodeType":"221","messageId":"222","endLine":19,"endColumn":48},{"ruleId":"219","severity":1,"message":"224","line":19,"column":50,"nodeType":"221","messageId":"222","endLine":19,"endColumn":53},{"ruleId":"234","severity":1,"message":"242","line":19,"column":6,"nodeType":"236","endLine":19,"endColumn":8,"suggestions":"261"},{"ruleId":"219","severity":1,"message":"262","line":4,"column":15,"nodeType":"221","messageId":"222","endLine":4,"endColumn":22},{"ruleId":"219","severity":1,"message":"225","line":5,"column":10,"nodeType":"221","messageId":"222","endLine":5,"endColumn":14},{"ruleId":"219","severity":1,"message":"263","line":5,"column":33,"nodeType":"221","messageId":"222","endLine":5,"endColumn":39},{"ruleId":"219","severity":1,"message":"226","line":15,"column":10,"nodeType":"221","messageId":"222","endLine":15,"endColumn":15},{"ruleId":"227","severity":1,"message":"228","line":46,"column":19,"nodeType":"229","messageId":"230","endLine":46,"endColumn":21},{"ruleId":"231","severity":1,"message":"232","line":62,"column":11,"nodeType":"233","endLine":67,"endColumn":13},{"ruleId":"219","severity":1,"message":"244","line":11,"column":24,"nodeType":"221","messageId":"222","endLine":11,"endColumn":39},{"ruleId":"219","severity":1,"message":"224","line":27,"column":10,"nodeType":"221","messageId":"222","endLine":27,"endColumn":13},{"ruleId":"219","severity":1,"message":"239","line":27,"column":15,"nodeType":"221","messageId":"222","endLine":27,"endColumn":21},{"ruleId":"219","severity":1,"message":"240","line":28,"column":21,"nodeType":"221","messageId":"222","endLine":28,"endColumn":33},{"ruleId":"219","severity":1,"message":"241","line":73,"column":23,"nodeType":"221","messageId":"222","endLine":73,"endColumn":37},{"ruleId":"227","severity":1,"message":"228","line":149,"column":24,"nodeType":"229","messageId":"230","endLine":149,"endColumn":26},{"ruleId":"227","severity":1,"message":"228","line":154,"column":22,"nodeType":"229","messageId":"230","endLine":154,"endColumn":24},{"ruleId":"234","severity":1,"message":"242","line":199,"column":6,"nodeType":"236","endLine":199,"endColumn":8,"suggestions":"264"},{"ruleId":"231","severity":1,"message":"232","line":358,"column":29,"nodeType":"233","endLine":367,"endColumn":31},{"ruleId":"231","severity":1,"message":"232","line":409,"column":27,"nodeType":"233","endLine":416,"endColumn":29},{"ruleId":"227","severity":1,"message":"228","line":19,"column":17,"nodeType":"229","messageId":"230","endLine":19,"endColumn":19},{"ruleId":"234","severity":1,"message":"242","line":29,"column":6,"nodeType":"236","endLine":29,"endColumn":8,"suggestions":"265"},{"ruleId":"231","severity":1,"message":"232","line":33,"column":7,"nodeType":"233","endLine":38,"endColumn":9},{"ruleId":"219","severity":1,"message":"251","line":7,"column":8,"nodeType":"221","messageId":"222","endLine":7,"endColumn":21},{"ruleId":"219","severity":1,"message":"252","line":31,"column":10,"nodeType":"221","messageId":"222","endLine":31,"endColumn":14},{"ruleId":"219","severity":1,"message":"253","line":35,"column":9,"nodeType":"221","messageId":"222","endLine":35,"endColumn":21},{"ruleId":"213","replacedBy":"266"},{"ruleId":"215","replacedBy":"267"},"no-native-reassign",["268"],"no-negated-in-lhs",["269"],["268"],["269"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'files' is assigned a value but never used.","'zip' is assigned a value but never used.","'Link' is defined but never used.","'image' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'image' and 'init'. Either include them or remove the dependency array.","ArrayExpression",["270"],"'isNull' is defined but never used.","'setZip' is assigned a value but never used.","'setDeleteZip' is assigned a value but never used.","'setdeleteFiles' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'init'. Either include it or remove the dependency array.",["271"],"'setUserLoggedIN' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","jsx-a11y/role-supports-aria-props","The attribute aria-haspopup is not supported by the role link. This role is implicit on the element a.",["268"],["269"],"'AccountCircle' is defined but never used.","'auth' is assigned a value but never used.","'handleChange' is assigned a value but never used.",["268"],["269"],"'Typography' is defined but never used.","'Box' is defined but never used.",["272"],["268"],["269"],["273"],"'IMG_URL' is defined but never used.","'Router' is defined but never used.",["274"],["275"],["268"],["269"],"no-global-assign","no-unsafe-negation",{"desc":"276","fix":"277"},{"desc":"278","fix":"279"},{"desc":"278","fix":"280"},{"desc":"278","fix":"281"},{"desc":"278","fix":"282"},{"desc":"278","fix":"283"},"Update the dependencies array to be: [image, init]",{"range":"284","text":"285"},"Update the dependencies array to be: [init]",{"range":"286","text":"287"},{"range":"288","text":"287"},{"range":"289","text":"287"},{"range":"290","text":"287"},{"range":"291","text":"287"},[594,596],"[image, init]",[5597,5599],"[init]",[833,835],[533,535],[5175,5177],[770,772]]