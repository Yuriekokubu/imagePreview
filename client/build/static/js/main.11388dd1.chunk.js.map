{"version":3,"sources":["config.js","auth/index.js","componenets/MaterialNavbar.js","core/Home.js","componenets/Modal.js","componenets/LightBox.js","core/Preview.js","core/Image.js","core/Edit.js","core/Login.js","auth/AdminRoute.js","Route.js","index.js"],"names":["API","process","isAuthenticated","localStorage","getItem","JSON","parse","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","MenuAppBar","classes","React","useState","anchorEl","setAnchorEl","open","Boolean","history","useHistory","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","onClick","push","Typography","variant","auth","aria-controls","aria-haspopup","event","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","next","removeItem","Home","web_name","web_url","web_details","files","zip","values","setValues","onSubmit","e","preventDefault","formData","FormData","name","i","length","append","Axios","post","then","data","toast","dark","closeOnClick","autoClose","setTimeout","window","location","reload","encType","htmlFor","type","value","required","onChange","target","multiple","total_file","document","getElementById","img","createElement","setAttribute","style","width","src","URL","createObjectURL","appendChild","console","log","accept","input","to","ModalButton","deleteLink","LinkId","linkName","show","setShow","handleClose","Button","Modal","onHide","Header","closeButton","Title","Body","Footer","LightboxExample","webId","photoIndex","setPhotoIndex","isOpen","setIsOpen","image","setImage","images","map","p","imgpath","img_path","images2","Set","useEffect","web_id","result","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","Preview","dataRow","setdataRow","init","get","handleDelete","link","delete","deleteId","success","duration","dataArray","_","LightBox","slice","moment","timestamp","format","zip_path","url","href","columns","search","sort","fixedHeader","pagination","enabled","limit","margin","Image","match","params","alt","img_id","maxWidth","height","borderRadius","Edit","fileUpdate","zips","zipUpdate","deleteZip","TabPanel","props","children","index","other","role","hidden","aria-labelledby","a11yProps","backgroundColor","palette","background","paper","setValue","deleteFiles","submitForm","a","put","formDataZip","imageArray","zipArray","imageSet","zipSet","filter","disabled","Tabs","newValue","Tab","label","f","display","file","indexOf","splice","handleFileDelete","right","textAlign","cursor","z","zipFile","handleZipDelete","top","toLowerCase","Login","username","setUsername","password","setPassword","userLoggedIN","logged","setLogged","defaults","withCredentials","response","loggedIn","RedirectTo","class","aria-describedby","autoFocus","setItem","stringify","error","message","handleSubmit","AdminRoute","Component","component","rest","render","pathname","state","from","Routes","path","exact","ReactDOM","StrictMode","Route"],"mappings":"iQAAaA,G,MAAMC,mC,gFCANC,EAAkB,WAC7B,QAAIC,aAAaC,QAAQ,UAChBC,KAAKC,MAAMH,aAAaC,QAAQ,W,mDCcrCG,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,OAIC,SAASK,IACtB,IAAMC,EAAUV,IADmB,EAEXW,IAAMC,UAAS,GAFJ,gCAGHD,IAAMC,SAAS,OAHZ,mBAG5BC,EAH4B,KAGlBC,EAHkB,KAI7BC,EAAOC,QAAQH,GAcfI,EAAUC,cAEhB,OACE,qBAAKC,UAAWT,EAAQP,KAAxB,SACE,cAACiB,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEC,KAAK,QACLL,UAAWT,EAAQL,WACnBoB,MAAM,UACNC,aAAW,OACXC,QAAS,WACPV,EAAQW,KAAK,YANjB,SASE,cAAC,IAAD,MAEF,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKX,UAAWT,EAAQF,MAA5C,0BAGA,cAACe,EAAA,EAAD,CACEC,KAAK,QACLL,UAAWT,EAAQL,WACnBoB,MAAM,UACNC,aAAW,OACXC,QAAS,WACPV,EAAQW,KAAK,aANjB,SASE,cAAC,IAAD,MAEF,cAACL,EAAA,EAAD,CACEC,KAAK,QACLL,UAAWT,EAAQL,WACnBoB,MAAM,UACNC,aAAW,OACXC,QAAS,WACPV,EAAQW,KAAK,YANjB,SASE,cAAC,IAAD,MAGDjC,IAAkBoC,MACjB,gCACE,cAACR,EAAA,EAAD,CACEG,aAAW,0BACXM,gBAAc,cACdC,gBAAc,OACdN,QAzDK,SAACO,GAClBpB,EAAYoB,EAAMC,gBAyDNV,MAAM,UALR,SAOE,cAAC,IAAD,MAGF,cAACW,EAAA,EAAD,CACEC,GAAG,cACHxB,SAAUA,EACVyB,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,aAAW,EACXC,gBAAiB,CACfH,SAAU,MACVC,WAAY,SAEdzB,KAAMA,EACN4B,QAxEM,WAClB7B,EAAY,OA0DF,SAeE,cAAC8B,EAAA,EAAD,CACEjB,QAAS,kBD7GHkB,EC8GI,WACN5B,EAAQW,KAAK,MD9GjChC,aAAakD,WAAW,cACxBD,IAFqB,IAACA,GC4GR,iCC5GhB,IAgLeE,EAhLF,WAAO,IAAD,EACWnC,mBAAS,CACnCoC,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,MAAO,GACPC,IAAK,KANU,mBACVC,EADU,KACFC,EADE,KASTN,EAA+CK,EAA/CL,SAAUE,EAAqCG,EAArCH,YAAaD,EAAwBI,EAAxBJ,QAAwBI,EAAfF,MAAeE,EAARD,IAgE/C,OACE,gCACE,cAAC,EAAD,IACA,sBAAKjC,UAAU,iBAAf,UACE,qBAAKkB,GAAG,gBAAgBlB,UAAU,oBAClC,uBAAMoC,SAnEO,SAACC,GAClBA,EAAEC,iBACF,IAAMC,EAAW,IAAIC,SACrB,IAAK,IAAMC,KAAQP,EAAQ,CACzB,GAAa,UAATO,EACF,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAOF,MAAMW,OAAQD,IACvCH,EAASK,OAAOH,EAAMP,EAAOF,MAAMU,IAGvC,GAAa,QAATD,EACF,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAOD,IAAIU,OAAQD,IACrCH,EAASK,OAAOH,EAAMP,EAAOD,IAAIS,IAGrCH,EAASK,OAAOH,EAAMP,EAAOO,IAE/BI,IAAMC,KAAN,UAAcxE,EAAd,WAA4BiE,GAAUQ,MAAK,SAACC,GAC1CC,IAAMC,KAAK,oBAAqB,CAAEC,cAAc,EAAMC,UAAW,SAEnEjB,EAAU,2BACLD,GADI,IAEPL,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,MAAO,MAYTqB,YAAW,WACTC,OAAOC,SAASC,WACf,MA6B6BC,QAAQ,sBAApC,UACE,sBAAKzD,UAAU,OAAf,UACE,uBAAO0D,QAAQ,mBAAmB1D,UAAU,aAA5C,sFAGA,uBACE2D,KAAK,OACLlB,KAAK,SACLvB,GAAG,SACHlB,UAAU,eACV4D,MAAO/B,EACPgC,UAAQ,EACRC,SAAU,SAACzB,GAAD,OACRF,EAAU,2BAAKD,GAAN,IAAcL,SAAUQ,EAAE0B,OAAOH,eAIhD,sBAAK5D,UAAU,OAAf,UACE,uBAAO0D,QAAQ,sBAAsB1D,UAAU,aAA/C,sBAGA,uBACE2D,KAAK,MACLlB,KAAK,QACLvB,GAAG,QACHlB,UAAU,eACV6D,UAAQ,EACRD,MAAO9B,EACPgC,SAAU,SAACzB,GAAD,OACRF,EAAU,2BAAKD,GAAN,IAAcJ,QAASO,EAAE0B,OAAOH,eAK/C,sBAAK5D,UAAU,OAAf,UACE,uBAAO0D,QAAQ,WAAW1D,UAAU,aAApC,kDAGA,uBACE2D,KAAK,OACLzC,GAAG,QACHuB,KAAK,QACLzC,UAAU,eACVgE,UAAQ,EACRF,SAtEQ,SAAC/C,GACnBA,EAAMuB,iBAEN,IADA,IAAM2B,EAAaC,SAASC,eAAe,SAASnC,MAAMW,OACjDD,EAAI,EAAGA,EAAIuB,EAAYvB,IAAK,CACnC,IAAM0B,EAAMF,SAASG,cAAc,OACnCD,EAAIE,aAAa,KAAM,UACvBF,EAAIG,MAAMC,MAAQ,QAClBJ,EAAIK,IAAMC,IAAIC,gBAAgB5D,EAAMgD,OAAO/B,MAAMU,IACnCwB,SAASC,eAAe,iBAChCS,YAAYR,GAEpBjC,EAAU,2BAAKD,GAAN,IAAcF,MAAOjB,EAAMgD,OAAO/B,SAC3C6C,QAAQC,IAAI/D,EAAMgD,OAAO/B,QA2Df+C,OAAO,UACPlB,UAAQ,OAGZ,sBAAK7D,UAAU,OAAf,UACE,uBAAO0D,QAAQ,WAAW1D,UAAU,aAApC,iBAGA,uBACE2D,KAAK,OACLzC,GAAG,MACHuB,KAAK,MACLzC,UAAU,eACVgE,UAAQ,EACRF,SAtEM,SAAC/C,GACjBA,EAAMuB,iBACNH,EAAU,2BAAKD,GAAN,IAAcD,IAAKlB,EAAMgD,OAAO/B,SACzC6C,QAAQC,IAAI/D,EAAMgD,OAAO/B,QAoEf+C,OAAO,uBAGX,sBAAK/E,UAAU,OAAf,UACE,uBAAO0D,QAAQ,8BAA8B1D,UAAU,aAAvD,8DAGA,0BACEgF,OAAK,EACLrB,KAAK,OACLlB,KAAK,YACLvB,GAAG,YACHlB,UAAU,eACV6D,UAAQ,EACRD,MAAO7B,EACP+B,SAAU,SAACzB,GAAD,OACRF,EAAU,2BAAKD,GAAN,IAAcH,YAAaM,EAAE0B,OAAOH,eAInD,uBACE5D,UAAU,eACVuE,MAAO,CAAEpF,YAAa,OACtByE,MAAM,6CACND,KAAK,WAEP,cAAC,IAAD,CAAMsB,GAAG,WAAT,SACE,wBAAQjF,UAAU,uBAAlB,0GAEF,cAAC,IAAD,CAAMiF,GAAG,IAAIzE,QAAS,kBAAM8C,OAAOC,SAASC,UAA5C,SACE,wBAAQxD,UAAU,iBAAlB,kD,iCCtIGkF,EAtCK,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAAe,EAChC5F,oBAAS,GADuB,mBACjD6F,EADiD,KAC3CC,EAD2C,KAGlDC,EAAc,WAClBD,GAAQ,IAUV,OACE,qCACE,cAACE,EAAA,EAAD,CAAQzF,UAAU,YAAYW,QAAQ,SAASH,QAJhC,kBAAM+E,GAAQ,IAI7B,SACE,mBAAGvF,UAAU,mBAGf,eAAC0F,EAAA,EAAD,CAAOJ,KAAMA,EAAMK,OAAQH,EAA3B,UACE,cAACE,EAAA,EAAME,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACH,EAAA,EAAMI,MAAP,oFAEF,eAACJ,EAAA,EAAMK,KAAP,+GAA8BV,EAA9B,qEACA,eAACK,EAAA,EAAMM,OAAP,WACE,cAACP,EAAA,EAAD,CAAQ9E,QAAQ,YAAYH,QAASgF,EAArC,mBAGA,cAACC,EAAA,EAAD,CAAQ9E,QAAQ,SAASH,QAAS,kBArBxC2E,EAAWC,QACXG,GAAQ,IAoBF,8B,iCCuBKU,G,OAlDS,SAAC,GAAoB,IAAlB7B,EAAiB,EAAjBA,IAAK8B,EAAY,EAAZA,MAAY,EACNzG,mBAAS,GADH,mBACnC0G,EADmC,KACvBC,EADuB,OAEd3G,oBAAS,GAFK,mBAEnC4G,EAFmC,KAE3BC,EAF2B,OAGhB7G,mBAAS,IAHO,mBAGnC8G,EAHmC,KAG5BC,EAH4B,KAIpCC,EAAS,CAAC,GAAD,OAAIlI,GAAJ,mBAAqC6F,IAQpDmC,EAAMG,KAAI,SAACC,GACT,IAAIC,EAAO,UAAMrI,GAAN,mBAAuCoI,EAAEE,UACpDJ,EAAOhG,KAAKmG,MAGd,IAAME,EAAO,YAAO,IAAIC,IAAIN,IAO5B,OALAO,qBAAU,WAZRnE,IAAMC,KAAN,UAAcxE,EAAd,UAA2B,CAAE2I,OAAQf,IAASnD,MAAK,SAACmE,GAClDV,EAASU,EAAOlE,SAalBoD,EAAc,KACb,IAGD,gCACE,qBACE3B,IAAG,UAAKlG,GAAL,mBAAsC6F,GACzCG,MAAO,CAAEC,MAAO,QAChBb,KAAK,SACLnD,QAAS,kBAAM8F,GAAU,MAE1BD,GACC,cAAC,IAAD,CACEc,QAASL,EAAQX,GACjBiB,QAASN,GAASX,EAAa,GAAKW,EAAQnE,QAC5C0E,QAASP,GAASX,EAAaW,EAAQnE,OAAS,GAAKmE,EAAQnE,QAC7D2E,eAAgB,kBAAMhB,GAAU,IAChCiB,kBAAmB,kBACjBnB,GAAeD,EAAaW,EAAQnE,OAAS,GAAKmE,EAAQnE,SAE5D6E,kBAAmB,kBACjBpB,GAAeD,EAAa,GAAKW,EAAQnE,gBCgHtC8E,EApJC,WAAO,IAAD,EACUhI,mBAAS,IADnB,mBACbiI,EADa,KACJC,EADI,OAEMlI,mBAAS,IAFf,mBAEN+G,GAFM,WAIdoB,EAAO,WACX/E,IAAMgF,IAAN,UAAavJ,EAAb,UAAyByE,MAAK,SAACmE,GAC7BS,EAAWT,EAAOlE,SAEpBH,IAAMgF,IAAN,UAAavJ,EAAb,WAA0ByE,MAAK,SAACmE,GAC9BV,EAASU,EAAOlE,UAQpB6B,QAAQC,IAAI4C,GAEZ,IAAMI,EAAe,SAACC,GACpBlF,IAAMmF,OAAN,UAAgB1J,EAAhB,WAA8B,CAAE0E,KAAM,CAAEiF,SAAUF,KAAUhF,MAAK,SAACC,GAChE6B,QAAQC,IAAIiD,GACZ9E,IAAMiF,QAAQ,oBAAqB,CACjC/E,cAAc,EACdgF,SAAU,OAEZP,QAIEQ,EAAY,GAmFlB,OAlFAV,EAAQhB,KAAI,SAACrE,GACX+F,EAAU3H,KAAK,CACb4B,EAAE4E,OACFoB,YACE,cAACC,EAAD,CAAUlE,IAAK/B,EAAEwE,SAAUX,MAAO7D,EAAE4E,UAYtC5E,EAAER,SAAS0G,MAAM,EAAG,IACpBlG,EAAEP,QAAQyG,MAAM,EAAG,IACnBlG,EAAEN,YAAYwG,MAAM,EAAG,IACvBC,IAAOnG,EAAEoG,WAAWC,OAAO,OAC3BL,YACiB,OAAfhG,EAAEsG,SACA,qBACEpE,MAAO,CAAEC,MAAO,QAChBC,IAAG,UAAKlG,GAAL,kBACHiC,QAAS,kBACP8C,OAAO1D,KAAP,UAAerB,GAAf,gBAA6C8D,EAAEsG,YAEjDhF,KAAK,WAGP,MAGJ0E,YACE,sBAAKrI,UAAU,OAAf,UACE,wBACEQ,QAAS,kBAvDFoI,EAuDgBvG,EAAEP,aAtDjCwB,OAAO1D,KAAKgJ,GADE,IAACA,GAwDP5I,UAAU,sBAFZ,SAIE,mBAAGA,UAAU,+BAEf,mBAAG6I,KAAI,iBAAYxG,EAAE4E,QAArB,SACE,wBAAQjH,UAAU,uBAAlB,SACE,mBAAGA,UAAU,qBAGjB,mBAAG6I,KAAI,gBAAWxG,EAAE4E,QAApB,SACE,wBAAQjH,UAAU,uBAAlB,SACE,mBAAGA,UAAU,mBAGjB,cAAC,EAAD,CACEmF,WAAY2C,EACZ1C,OAAQ/C,EAAE4E,OACV5B,SAAUhD,EAAER,SAHd,SAKE,wBAAQ7B,UAAU,sBAAlB,SACE,mBAAGA,UAAU,8BAoBzBgH,qBAAU,WACRY,MACC,IAGD,qCACE,cAAC,EAAD,IACA,qBAAK5H,UAAU,MAAf,SASE,cAAC,IAAD,CACEgD,KAAMoF,EACNU,QAAS,CACP,KACA,QACA,OACA,MACA,UACA,YACA,MACA,UAEFC,QAAQ,EACRC,MAAM,EACNC,aAAa,EACbC,WAAY,CAAEC,SAAS,EAAMC,MAAO,IACpC7E,MAAO,CAAE8E,OAAQ,kB,QCvGZC,EA5CD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACD9J,mBAAS,IADR,mBACpB8G,EADoB,KACbC,EADa,KAe3B,OAJAQ,qBAAU,YARG,WACX,IAAM9F,EAAKqI,EAAMC,OAAOtD,MACxBrD,IAAMC,KAAN,UAAcxE,EAAd,UAA2B,CAAE2I,OAAQ/F,IAAM6B,MAAK,SAACmE,GAC/CV,EAASU,EAAOlE,MAChB6B,QAAQC,IAAIyB,MAKdqB,GACA/C,QAAQC,IAAIyB,KACX,IAED,qCACE,cAAC,EAAD,IACA,sBAAKvG,UAAU,gBAAf,UACGuG,GAAS,+HAAuBA,GAASA,EAAM5D,UAChD,cAAC,IAAD,UACE,cAAC,IAAD,UACG4D,EAAMG,KAAI,SAAChE,GAAD,OACT,mBAAGmG,KAAI,UAAKtK,GAAL,mBAAsCmE,EAAEmE,UAA/C,SACE,qBACEpC,IAAG,UAAKlG,GAAL,mBAAsCmE,EAAEmE,UAC3C4C,IAAK/G,EAAEgH,OACPnF,MAAO,CACLoF,SAAU,QACVC,OAAQ,QACRC,aAAc,QAEhB7J,UAAU,6BAMnB6E,QAAQC,IAAIyB,U,qEC+YNuD,I,OA5aF,SAAC,GAAe,IAAbP,EAAY,EAAZA,MAAY,EACE9J,mBAAS,CACnCwH,OAAQ,GACRpF,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,MAAO,GACP+H,WAAY,GACZC,KAAM,GACNC,UAAW,KATa,mBACnB/H,EADmB,KACXC,EADW,OAYJ1C,mBAAS,IAZL,gCAaQA,mBAAS,KAbjB,mBAanByK,EAbmB,UAe1B,SAASC,EAASC,GAAQ,IAChBC,EAAqCD,EAArCC,SAAUzG,EAA2BwG,EAA3BxG,MAAO0G,EAAoBF,EAApBE,MAAUC,EADZ,YACsBH,EADtB,8BAGvB,OACE,6CACEI,KAAK,WACLC,OAAQ7G,IAAU0G,EAClBpJ,GAAE,0BAAqBoJ,GACvBI,kBAAA,qBAA+BJ,IAC3BC,GALN,aAOG3G,IAAU0G,GAAS,mCAAGD,OAW7B,SAASM,EAAUL,GACjB,MAAO,CACLpJ,GAAG,cAAD,OAAgBoJ,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAOM/K,EAPYT,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,EACV2L,gBAAiB7L,EAAM8L,QAAQC,WAAWC,UAI9BlM,GAnDU,EAoDAW,IAAMC,SAAS,GApDf,mBAoDnBmE,EApDmB,KAoDZoH,EApDY,OA0DYvL,mBAAS,IA1DrB,mBA0DnBwL,EA1DmB,KA6DxBhE,GA7DwB,KAqEtB/E,EARF+E,QACApF,EAOEK,EAPFL,SACAE,EAMEG,EANFH,YACAD,EAKEI,EALFJ,QACAE,EAIEE,EAJFF,MACA+H,EAGE7H,EAHF6H,WACAC,EAEE9H,EAFF8H,KACAC,EACE/H,EADF+H,UAGIiB,EAAU,uCAAG,WAAO7I,GAAP,qBAAA8I,EAAA,6DACjB9I,EAAEC,iBADe,SAEXO,IAAMuI,IAAN,UAAa9M,EAAb,WAA2B4D,GAAQa,MAAK,SAACC,GAC7CC,IAAMC,KAAK,qBACXG,WAAWC,OAAOC,SAASC,SAAU,MACrCH,WAAWuE,IAAQ,SALJ,YAQbmC,EAAWpH,OAAS,GARP,gBAUf,IADMJ,EAAW,IAAIC,SACZE,EAAI,EAAGA,EAAIR,EAAO6H,WAAWpH,OAAQD,IAC5CH,EAASK,OAAO,aAAcV,EAAO6H,WAAWrH,IAXnC,OAafH,EAASK,OAAO,QAASqE,GAbV,SAcTpE,IAAMC,KAAN,UAAcxE,EAAd,gBAAiCiE,GAAUQ,MAAK,SAACC,GACrD4E,OAfa,YAkBbqC,EAAUtH,OAAS,GAlBN,iBAoBf,IADM0I,EAAc,IAAI7I,SACfE,EAAI,EAAGA,EAAIR,EAAO+H,UAAUtH,OAAQD,IAC3C2I,EAAYzI,OAAO,YAAaV,EAAO+H,UAAUvH,IArBpC,OAuBf2I,EAAYzI,OAAO,QAASqE,GAvBb,UAwBTpE,IAAMC,KAAN,UAAcxE,EAAd,cAA+B+M,GAAatI,MAAK,SAACC,GACtD4E,OAzBa,aA4BbqD,EAAYtI,OAAS,GA5BR,kCA6BTE,IAAMC,KAAN,UAAcxE,EAAd,gBAAiC,CACrC2M,gBACClI,MAAK,SAACC,OA/BM,aAiCbkH,EAAUvH,OAAS,GAjCN,kCAkCTE,IAAMC,KAAN,UAAcxE,EAAd,cAA+B,CAAE4L,cAAanH,MAAK,SAACC,OAlC3C,4CAAH,sDA0DV4E,EAAI,uCAAG,4BAAAuD,EAAA,6DACLjF,EAAQqD,EAAMC,OAAOtD,MADhB,SAGLrD,IAAMC,KAAN,UAAcxE,EAAd,SAA0B,CAAE2I,OAAQf,IAASnD,MAAK,SAACmE,GAAY,IAC3DlE,EAASkE,EAATlE,KAD0D,cAEbA,EAFa,MAEzDiE,EAFyD,EAEzDA,OAAQpF,EAFiD,EAEjDA,SAAUC,EAFuC,EAEvCA,QAASC,EAF8B,EAE9BA,YAC9BuJ,EAAa,GACnBtI,EAAK0D,KAAI,SAACH,GACR+E,EAAW7K,KAAK8F,EAAMM,aAGxB,IAAM0E,EAAW,GACjBvI,EAAK0D,KAAI,SAACzE,GACRsJ,EAAS9K,KAAKwB,EAAI0G,aAGpB,IAAM6C,EAAQ,YAAO,IAAIzE,IAAIuE,IACvBG,EAAM,YAAO,IAAI1E,IAAIwE,IAE3B1G,QAAQC,IAAI2G,GAEZtJ,EAAU,2BACLD,GADI,IAEP+E,SACApF,WACAC,UACAC,cACAC,MAAOwJ,EACPzB,WAAY,GACZC,KAAMyB,EAAOC,QAAO,SAACzJ,GAAD,OAAgB,MAAPA,WA7BtB,2CAAH,qDAkCV4C,QAAQC,IAAI5C,GA8BZ,OAJA8E,qBAAU,WACRY,MACC,IAGD,gCACE,cAAC,EAAD,IACA,qBAAK5H,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,uBAAMoC,SAAU8I,EAAYzH,QAAQ,sBAApC,UACE,sBAAKzD,UAAU,OAAf,UACE,uBAAO0D,QAAQ,mBAAmB1D,UAAU,aAA5C,8DAGA,uBACE2D,KAAK,OACLgI,UAAQ,EACRlJ,KAAK,SACLvB,GAAG,SACHlB,UAAU,eACV4D,MAAOqD,OAGX,sBAAKjH,UAAU,OAAf,UACE,uBAAO0D,QAAQ,mBAAmB1D,UAAU,aAA5C,sFAGA,uBACE2D,KAAK,OACLlB,KAAK,SACLvB,GAAG,SACHlB,UAAU,eACV4D,MAAO/B,EACPgC,UAAQ,EACRC,SAAU,SAACzB,GAAD,OACRF,EAAU,2BAAKD,GAAN,IAAcL,SAAUQ,EAAE0B,OAAOH,eAIhD,sBAAK5D,UAAU,OAAf,UACE,uBAAO0D,QAAQ,sBAAsB1D,UAAU,aAA/C,sBAGA,uBACE2D,KAAK,MACLlB,KAAK,QACLvB,GAAG,QACHlB,UAAU,eACV6D,UAAQ,EACRD,MAAO9B,EACPgC,SAAU,SAACzB,GAAD,OACRF,EAAU,2BAAKD,GAAN,IAAcJ,QAASO,EAAE0B,OAAOH,eAK/C,sBAAK5D,UAAU,OAAf,UACE,uBAAO0D,QAAQ,WAAW1D,UAAU,aAApC,kDAGA,uBACE2D,KAAK,OACLzC,GAAG,QACHuB,KAAK,QACLzC,UAAU,eACVgE,UAAQ,EACRF,SAnJI,SAAC/C,GACnBA,EAAMuB,iBACNH,EAAU,2BAAKD,GAAN,IAAc6H,WAAYhJ,EAAMgD,OAAO/B,SAEhD,IADA,IAAMiC,EAAaC,SAASC,eAAe,SAASnC,MAAMW,OACjDD,EAAI,EAAGA,EAAIuB,EAAYvB,IAAK,CACnC,IAAM0B,EAAMF,SAASG,cAAc,OACnCD,EAAIE,aAAa,KAAM,UACvBF,EAAIG,MAAMC,MAAQ,QAClBJ,EAAIK,IAAMC,IAAIC,gBAAgB5D,EAAMgD,OAAO/B,MAAMU,IACnCwB,SAASC,eAAe,iBAChCS,YAAYR,GAEpBS,QAAQC,IAAIiF,IAwIEhF,OAAO,eAGX,sBAAK/E,UAAU,OAAf,UACE,uBAAO0D,QAAQ,WAAW1D,UAAU,aAApC,iBAGA,uBACE2D,KAAK,OACLzC,GAAG,MACHuB,KAAK,MACLzC,UAAU,eACVgE,UAAQ,EACRF,SAlJG,SAAC/C,GAClBA,EAAMuB,iBACNH,EAAU,2BAAKD,GAAN,IAAc+H,UAAWlJ,EAAMgD,OAAO/B,UAiJjC+C,OAAO,uBAGX,sBAAK/E,UAAU,OAAf,UACE,uBACE0D,QAAQ,8BACR1D,UAAU,aAFZ,8DAMA,0BACEgF,OAAK,EACLrB,KAAK,OACLlB,KAAK,YACLvB,GAAG,YACHlB,UAAU,eACV6D,UAAQ,EACRD,MAAO7B,EACP+B,SAAU,SAACzB,GAAD,OACRF,EAAU,2BACLD,GADI,IAEPH,YAAaM,EAAE0B,OAAOH,eAK9B,uBACE5D,UAAU,kBACVuE,MAAO,CAAEpF,YAAa,OACtByE,MAAM,uCACND,KAAK,WAEP,cAAC,IAAD,CAAMsB,GAAG,WAAT,SACE,wBAAQjF,UAAU,kBAAlB,+GAIN,qBAAKkB,GAAG,gBAAgBlB,UAAU,gBAAlC,SACE,sBAAKA,UAAWT,EAAQP,KAAxB,UACE,cAACiB,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAAC0L,EAAA,EAAD,CACEhI,MAAOA,EACPE,SAnQK,SAAC/C,EAAO8K,GAC3Bb,EAASa,IAmQKtL,aAAW,sBAHb,UAKE,cAACuL,GAAA,EAAD,aAAKC,MAAM,SAAYpB,EAAU,KACjC,cAACmB,GAAA,EAAD,aAAKC,MAAM,OAAUpB,EAAU,UAGnC,cAACR,EAAD,CAAUvG,MAAOA,EAAO0G,MAAO,EAA/B,SACE,qBAAKtK,UAAU,MAAf,SACgB,OAAbgC,EAAM,GACL,mCACGA,EAAM0E,KAAI,SAACsF,EAAGtJ,GAAJ,OACT,mCACE,sBACE1C,UAAU,OACVuE,MAAO,CACLrE,SAAU,WACV+L,QAAS,gBAJb,UAOE,qBACEjM,UAAU,YACVkB,GAAI8K,EACJxL,QAAS,kBA3KZ,SAAC0L,GACxB,IAAM5B,EAAQtI,EAAMmK,QAAQD,GAC5BjB,EAAYxK,KAAKyL,IACF,IAAX5B,GACFtI,EAAMoK,OAAO9B,EAAO,GAEtBzF,QAAQC,IAAImG,GAIZ9I,EAAU,2BAAKD,GAAN,IAAcF,MAAOA,KAiKWqK,CAAiBL,IAChCzH,MAAO,CACLrE,SAAU,WACV0K,gBAAiB,SACjBpG,MAAO,OACP8H,MAAO,IACPhM,MAAO,QACPiM,UAAW,SACXpN,YAAa,MACbqN,OAAQ,WAZZ,SAeE,cAAC,IAAD,MAEF,qBAEEtL,GAAI8K,EACJvH,IAAG,UAAKlG,GAAL,mBAAsCyN,GACzCzH,MAAO,CACLC,MAAO,QACPoF,OAAQ,SAEV5J,UAAU,aAPL0C,aAcf,cAAC,WAAD,oBAIN,cAACyH,EAAD,CAAUvG,MAAOA,EAAO0G,MAAO,EAA/B,SACE,qBAAKtK,UAAU,OAAf,SACe,OAAZgK,EAAK,GACFA,EAAKtD,KAAI,SAAC+F,EAAG/J,GAAJ,OACP,sBAEExB,GAAG,UACHlB,UAAU,oCACVuE,MAAO,CACL0H,QAAS,eACTrB,gBAAiB,mBACjBf,aAAc,OACd3J,SAAU,YARd,UAWE,qBACEgB,GAAIuL,EACJzM,UAAU,YACVQ,QAAS,kBAjNX,SAACkM,GACvB,IAAMpC,EAAQN,EAAKmC,QAAQO,GAC3BxC,EAAUzJ,KAAKiM,IACA,IAAXpC,GACFN,EAAKoC,OAAO9B,EAAO,GAErBzF,QAAQC,IAAIkF,GACZnF,QAAQC,IAAIoF,GACZ/H,EAAU,2BAAKD,GAAN,IAAc8H,KAAMA,KAyMU2C,CAAgBF,IAC/BlI,MAAO,CACLrE,SAAU,WACV0K,gBAAiB,SACjBpG,MAAO,OACPoI,IAAK,EACLN,MAAO,IACPhM,MAAO,QACPiM,UAAW,SACXC,OAAQ,WAZZ,SAeE,cAAC,IAAD,MAEF,qBACE/H,IAAG,UAAKlG,GAAL,kBACHgG,MAAO,CAAEoF,SAAU,QACnBnJ,QAAS,kBACP8C,OAAO1D,KAAP,UAAerB,GAAf,gBAA6CkO,KAE/C9I,KAAK,WAEP,oBACE3D,UAAU,OACVuE,MAAO,CAAE0H,QAAS,gBAFpB,SAIGQ,EAAElE,MAAM,EAAG,IAAIsE,kBAvCbnK,MA2CT,gHC9VPoK,GA3ED,WAAO,IAAD,EACcrN,mBAAS,IADvB,mBACXsN,EADW,KACDC,EADC,OAEcvN,mBAAS,IAFvB,mBAEXwN,EAFW,KAEDC,EAFC,OAGsBzN,mBAAS,IAH/B,mBAGX0N,EAHW,aAIU1N,oBAAS,IAJnB,mBAIX2N,EAJW,KAIHC,EAJG,KAMlBxK,IAAMyK,SAASC,iBAAkB,EAiCjC,OATAvG,qBAAU,WACRnE,IAAMgF,IAAN,UAAavJ,EAAb,WAA0ByE,MAAK,SAACyK,GAC9B3I,QAAQC,IAAI0I,IACmB,IAA3BA,EAASxK,KAAKyK,UAChBJ,GAAU,QAGb,IAGD,qCACE,cAAC,EAAD,IACA,sBAAKrN,UAAU,gEAAf,UAlBe,WACjB,GAAIoN,EACF,OAAO,cAAC,IAAD,CAAUnI,GAAG,YAiBjByI,GACD,iCACE,sBAAKC,MAAM,aAAX,UACE,uBAAOjK,QAAQ,qBAAf,sBACA,uBACEC,KAAK,OACLgK,MAAM,eACNzM,GAAG,qBACH0M,mBAAiB,YACjBC,WAAS,EACT/J,SAAU,SAACzB,GAAD,OAAO2K,EAAY3K,EAAE0B,OAAOH,aAG1C,sBAAK+J,MAAM,aAAX,UACE,uBAAOjK,QAAQ,wBAAf,sBACA,uBACEC,KAAK,WACLgK,MAAM,eACNzM,GAAG,wBACH4C,SAAU,SAACzB,GAAD,OAAO6K,EAAY7K,EAAE0B,OAAOH,aAG1C,wBAAQpD,QAAS,SAAC6B,GAAD,OA1DJ,SAACA,GACpBA,EAAEC,iBACFO,IAAMC,KAAN,UAAcxE,EAAd,UAA2B,CACzByO,SAAUA,EACVE,SAAUA,IACTlK,MAAK,SAACyK,GACP3I,QAAQC,IAAI0I,GACPA,EAASxK,KAAKpC,MAIjBnC,aAAaqP,QAAQ,QAASnP,KAAKoP,UAAUP,EAASxK,OACtDqK,GAAU,KAJVA,GAAU,GACVpK,IAAM+K,MAAMR,EAASxK,KAAKiL,aAiDAC,CAAa7L,IAAIsL,MAAM,kBAA/C,oBAGA,6BAAKR,cC3DAgB,I,OAZI,SAAC,GAAD,IAAcC,EAAd,EAAGC,UAAyBC,EAA5B,oCACjB,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACnE,GAAD,OACN5L,IAAkBoC,KAChB,cAACwN,EAAD,eAAehE,IAEf,cAAC,IAAD,CAAUnF,GAAI,CAAEuJ,SAAU,IAAKC,MAAO,CAAEC,KAAMtE,EAAM7G,mBCiB7CoL,GAjBA,WACb,OACE,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAgBxL,cAAY,EAACgF,SAAU,MACvC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyG,KAAK,IAAIC,OAAK,EAACR,UAAWvB,KACjC,cAAC,GAAD,CAAY8B,KAAK,UAAUC,OAAK,EAACR,UAAWzM,IAC5C,cAAC,GAAD,CAAYgN,KAAK,WAAWC,OAAK,EAACR,UAAW5G,IAC7C,cAAC,GAAD,CAAYmH,KAAK,gBAAgBC,OAAK,EAACR,UAAW/E,IAClD,cAAC,GAAD,CAAYsF,KAAK,eAAeC,OAAK,EAACR,UAAWvE,cChB3DgF,IAASP,OACP,cAAC,IAAMQ,WAAP,UACE,cAACC,GAAD,MAEF9K,SAASC,eAAe,W","file":"static/js/main.11388dd1.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;\n","export const isAuthenticated = () => {\n  if (localStorage.getItem('token')) {\n    return JSON.parse(localStorage.getItem('token'));\n  } else {\n    return false;\n  }\n};\n\nexport const signout = (next) => {\n  localStorage.removeItem('token');\n  next();\n  return;\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ImageSharpIcon from '@material-ui/icons/ImageSharp';\nimport { useHistory } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth/index';\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const [auth, setAuth] = React.useState(true);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleChange = (event) => {\n    setAuth(event.target.checked);\n  };\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const history = useHistory();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <ImageSharpIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Link Preview\n          </Typography>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/preview');\n            }}\n          >\n            <ViewListIcon />\n          </IconButton>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={() => {\n              history.push('/insert');\n            }}\n          >\n            <AddPhotoAlternateIcon />\n          </IconButton>\n\n          {isAuthenticated().auth && (\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <FaceIcon />\n              </IconButton>\n\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem\n                  onClick={() =>\n                    signout(() => {\n                      history.push('/');\n                    })\n                  }\n                >\n                  Log out\n                </MenuItem>\n              </Menu>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Link } from 'react-router-dom';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\n\nconst Home = () => {\n  const [values, setValues] = useState({\n    web_name: '',\n    web_url: '',\n    web_details: '',\n    files: '',\n    zip: '',\n  });\n\n  const { web_name, web_details, web_url, files, zip } = values;\n\n  const submitForm = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    for (const name in values) {\n      if (name === 'files') {\n        for (let i = 0; i < values.files.length; i++) {\n          formData.append(name, values.files[i]);\n        }\n      }\n      if (name === 'zip') {\n        for (let i = 0; i < values.zip.length; i++) {\n          formData.append(name, values.zip[i]);\n        }\n      }\n      formData.append(name, values[name]);\n    }\n    Axios.post(`${API}/insert`, formData).then((data) => {\n      toast.dark('Upload Successful', { closeOnClick: true, autoClose: 1000 });\n    });\n    setValues({\n      ...values,\n      web_name: '',\n      web_url: '',\n      web_details: '',\n      files: '',\n    });\n    // const preview = document.getElementById('imgPre');\n    // for (let i = 0; i < preview.innerHTML.length; i++) {\n    //   preview.parentNode.removeChild(preview);\n    // }\n    // console.log(preview.innerHTML.length);\n\n    // const elem = document.querySelector('#image_preview');\n    // elem.parentNode.removeChild(elem);\n    // const imgDiv = document.createElement('img');\n    // imgDiv.setAttribute('id', 'image_preview');\n    setTimeout(() => {\n      window.location.reload();\n    }, 2000);\n  };\n\n  const handleFiles = (event) => {\n    event.preventDefault();\n    const total_file = document.getElementById('image').files.length;\n    for (let i = 0; i < total_file; i++) {\n      const img = document.createElement('img');\n      img.setAttribute('id', 'imgPre');\n      img.style.width = '150px';\n      img.src = URL.createObjectURL(event.target.files[i]);\n      const imgId = document.getElementById('image_preview');\n      imgId.appendChild(img);\n    }\n    setValues({ ...values, files: event.target.files });\n    console.log(event.target.files);\n  };\n\n  const handleZip = (event) => {\n    event.preventDefault();\n    setValues({ ...values, zip: event.target.files });\n    console.log(event.target.files);\n  };\n\n  return (\n    <div>\n      <MaterialNavbar />\n      <div className=\"container my-5\">\n        <div id=\"image_preview\" className=\"d-flex flex-row\"></div>\n        <form onSubmit={submitForm} encType=\"multipart/form-data\">\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputName\" className=\"form-label\">\n              ชื่อเว็บไซต์\n            </label>\n            <input\n              type=\"text\"\n              name=\"w_name\"\n              id=\"w_name\"\n              className=\"form-control\"\n              value={web_name}\n              required\n              onChange={(e) =>\n                setValues({ ...values, web_name: e.target.value })\n              }\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\n              Link URL\n            </label>\n            <input\n              type=\"url\"\n              name=\"w_url\"\n              id=\"w_url\"\n              className=\"form-control\"\n              required\n              value={web_url}\n              onChange={(e) =>\n                setValues({ ...values, web_url: e.target.value })\n              }\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"formFile\" className=\"form-label\">\n              รูปภาพ\n            </label>\n            <input\n              type=\"file\"\n              id=\"image\"\n              name=\"image\"\n              className=\"form-control\"\n              multiple\n              onChange={handleFiles}\n              accept=\"image/*\"\n              required\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"formFile\" className=\"form-label\">\n              Zip\n            </label>\n            <input\n              type=\"file\"\n              id=\"zip\"\n              name=\"zip\"\n              className=\"form-control\"\n              multiple\n              onChange={handleZip}\n              accept=\".zip,.rar,.7zip\"\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">\n              คำอธิบาย\n            </label>\n            <textarea\n              input\n              type=\"text\"\n              name=\"w_details\"\n              id=\"w_details\"\n              className=\"form-control\"\n              required\n              value={web_details}\n              onChange={(e) =>\n                setValues({ ...values, web_details: e.target.value })\n              }\n            ></textarea>\n          </div>\n          <input\n            className=\"btn btn-dark\"\n            style={{ marginRight: '5px' }}\n            value=\"อัพโหลด\"\n            type=\"submit\"\n          />\n          <Link to=\"/preview\">\n            <button className=\"btn btn-primary mr-2\">ดูข้อมูลทั้งหมด</button>\n          </Link>\n          <Link to=\"/\" onClick={() => window.location.reload()}>\n            <button className=\"btn btn-danger\">ล้าง</button>\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nconst ModalButton = ({ deleteLink, LinkId, linkName }) => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => {\n    setShow(false);\n  };\n\n  const handleDelete = () => {\n    deleteLink(LinkId);\n    setShow(false);\n  };\n\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Button className=\"px-2 py-1\" variant=\"danger\" onClick={handleShow}>\n        <i className=\"fas fa-close\"></i>\n      </Button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>ยืนยันการลบ </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>คุณต้องการลบลิ้ง {linkName} ใช่หรือไม่ ?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button variant=\"danger\" onClick={() => handleDelete(LinkId)}>\n            DELETE\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default ModalButton;\n","import React, { useState, useEffect } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\nimport Axios from 'axios';\nimport { API } from '../config';\n\nconst LightboxExample = ({ img, webId }) => {\n  const [photoIndex, setPhotoIndex] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [image, setImage] = useState([]);\n  const images = [`${process.env.PUBLIC_URL}/assets/${img}`];\n\n  const init = () => {\n    Axios.post(`${API}/image`, { web_id: webId }).then((result) => {\n      setImage(result.data);\n    });\n  };\n\n  image.map((p) => {\n    let imgpath = `${process.env.PUBLIC_URL}/assets/${p.img_path}`;\n    images.push(imgpath);\n  });\n\n  const images2 = [...new Set(images)];\n\n  useEffect(() => {\n    init();\n    setPhotoIndex(0);\n  }, []);\n\n  return (\n    <div>\n      <img\n        src={`${process.env.PUBLIC_URL}/assets/${img}`}\n        style={{ width: '50px' }}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      />\n      {isOpen && (\n        <Lightbox\n          mainSrc={images2[photoIndex]}\n          nextSrc={images2[(photoIndex + 1) % images2.length]}\n          prevSrc={images2[(photoIndex + images2.length - 1) % images2.length]}\n          onCloseRequest={() => setIsOpen(false)}\n          onMovePrevRequest={() =>\n            setPhotoIndex((photoIndex + images2.length - 1) % images2.length)\n          }\n          onMoveNextRequest={() =>\n            setPhotoIndex((photoIndex + 1) % images2.length)\n          }\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LightboxExample;\n","import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport moment from 'moment';\nimport { API } from '../config';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Modal from '../componenets/Modal';\nimport { Grid, _ } from 'gridjs-react';\nimport 'gridjs/dist/theme/mermaid.css';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport LightBox from '../componenets/LightBox';\n\nconst Preview = () => {\n  const [dataRow, setdataRow] = useState([]);\n  const [image, setImage] = useState([]);\n\n  const init = () => {\n    Axios.get(`${API}/list`).then((result) => {\n      setdataRow(result.data);\n    });\n    Axios.get(`${API}/image`).then((result) => {\n      setImage(result.data);\n    });\n  };\n\n  const gotoURL = (url) => {\n    window.open(url);\n  };\n\n  console.log(dataRow);\n\n  const handleDelete = (link) => {\n    Axios.delete(`${API}/delete`, { data: { deleteId: link } }).then((data) => {\n      console.log(link);\n      toast.success('Delete Successful', {\n        closeOnClick: true,\n        duration: 1500,\n      });\n      init();\n    });\n  };\n\n  const dataArray = [];\n  dataRow.map((e) => {\n    dataArray.push([\n      e.web_id,\n      _(\n        <LightBox img={e.img_path} webId={e.web_id} />\n        // e.img_path ? (\n        //   <a href={`/image/${e.web_id}`}>\n        //     <img\n        //       src={`${process.env.PUBLIC_URL}/assets/${e.img_path}`}\n        //       style={{ width: '50px' }}\n        //     />\n        //   </a>\n        // ) : (\n        //   'ไม่มีรูปแสดง'\n        // )\n      ),\n      e.web_name.slice(0, 20),\n      e.web_url.slice(0, 30),\n      e.web_details.slice(0, 30),\n      moment(e.timestamp).format('lll'),\n      _(\n        e.zip_path !== null ? (\n          <img\n            style={{ width: '30px' }}\n            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\n            onClick={() =>\n              window.open(`${process.env.PUBLIC_URL}/zip/${e.zip_path}`)\n            }\n            type=\"submit\"\n          />\n        ) : (\n          'No'\n        )\n      ),\n      _(\n        <div className=\"ml-1\">\n          <button\n            onClick={() => gotoURL(e.web_url)}\n            className=\"btn btn-success p-1\"\n          >\n            <i className=\"fas fa-external-link-alt\"></i>\n          </button>\n          <a href={`/image/${e.web_id}`}>\n            <button className=\"btn btn-warning  p-1\">\n              <i className=\"fas fa-clone\"></i>\n            </button>\n          </a>\n          <a href={`/edit/${e.web_id}`}>\n            <button className=\"btn btn-primary  p-1\">\n              <i className=\"fas fa-pen\"></i>\n            </button>\n          </a>\n          <Modal\n            deleteLink={handleDelete}\n            LinkId={e.web_id}\n            linkName={e.web_name}\n          >\n            <button className=\"btn btn-danger  p-1\">\n              <i className=\"fas fa-times\"></i>\n            </button>\n          </Modal>\n        </div>\n      ),\n    ]);\n  });\n\n  // const data = {\n  //   columns: [\n  //     { label: 'id', field: 'web_id', sort: 'asc' },\n  //     { label: 'name', field: 'web_name', sort: 'asc' },\n  //     { label: 'url', field: 'web_url', sort: 'asc' },\n  //     { label: 'details', field: 'web_details', sort: 'asc' },\n  //     { label: 'createdAt', field: 'createdAt', sort: 'asc', width: 150 },\n  //     { label: 'Action', field: 'action', sort: 'asc' },\n  //   ],\n  //   rows: dataArray,\n  // };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"m-2\">\n        {/* <MDBDataTable\n        className=\"mt-5\"\n        striped\n        bordered\n        small\n        data={data}\n        responsive={true}\n      /> */}\n        <Grid\n          data={dataArray}\n          columns={[\n            'id',\n            'image',\n            'name',\n            'url',\n            'details',\n            'createdAt',\n            'Zip',\n            'Action',\n          ]}\n          search={true}\n          sort={true}\n          fixedHeader={true}\n          pagination={{ enabled: true, limit: 10 }}\n          style={{ margin: '0 auto' }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Preview;\n","import React, { useEffect, useState } from 'react';\nimport SimpleReactLightbox, { SRLWrapper } from 'simple-react-lightbox';\nimport Axios from 'axios';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\n\nconst Image = ({ match }) => {\n  const [image, setImage] = useState([]);\n\n  const init = () => {\n    const id = match.params.webId;\n    Axios.post(`${API}/image`, { web_id: id }).then((result) => {\n      setImage(result.data);\n      console.log(image);\n    });\n  };\n\n  useEffect(() => {\n    init();\n    console.log(image);\n  }, []);\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"container p-5\">\n        {image && <h4>จำนวนรูปทั้งหมด : {image && image.length}</h4>}\n        <SimpleReactLightbox>\n          <SRLWrapper>\n            {image.map((i) => (\n              <a href={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}>\n                <img\n                  src={`${process.env.PUBLIC_URL}/assets/${i.img_path}`}\n                  alt={i.img_id}\n                  style={{\n                    maxWidth: '300px',\n                    height: '300px',\n                    borderRadius: '10px',\n                  }}\n                  className=\"card card-1 m-3\"\n                />\n              </a>\n            ))}\n          </SRLWrapper>\n        </SimpleReactLightbox>\n        {console.log(image)}\n      </div>\n    </>\n  );\n};\n\nexport default Image;\n","import React, { useState, useEffect, Fragment } from 'react';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Link } from 'react-router-dom';\nimport { API } from '../config';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { isNull } from 'lodash';\n\nconst Edit = ({ match }) => {\n  const [values, setValues] = useState({\n    web_id: '',\n    web_name: '',\n    web_url: '',\n    web_details: '',\n    files: [],\n    fileUpdate: '',\n    zips: [],\n    zipUpdate: '',\n  });\n\n  const [zip, setZip] = useState([]);\n  const [deleteZip, setDeleteZip] = useState([]);\n\n  function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n      <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`simple-tabpanel-${index}`}\n        aria-labelledby={`simple-tab-${index}`}\n        {...other}\n      >\n        {value === index && <>{children}</>}\n      </div>\n    );\n  }\n\n  TabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n  };\n\n  function a11yProps(index) {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      backgroundColor: theme.palette.background.paper,\n    },\n  }));\n\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [deleteFiles, setdeleteFiles] = useState([]);\n\n  const {\n    web_id,\n    web_name,\n    web_details,\n    web_url,\n    files,\n    fileUpdate,\n    zips,\n    zipUpdate,\n  } = values;\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    await Axios.put(`${API}/update`, values).then((data) => {\n      toast.dark('Upload Successful');\n      setTimeout(window.location.reload(), 1500);\n      setTimeout(init(), 1500);\n    });\n\n    if (fileUpdate.length > 0) {\n      const formData = new FormData();\n      for (let i = 0; i < values.fileUpdate.length; i++) {\n        formData.append('fileUpdate', values.fileUpdate[i]);\n      }\n      formData.append('webId', web_id);\n      await Axios.post(`${API}/imageUpdate`, formData).then((data) => {\n        init();\n      });\n    }\n    if (zipUpdate.length > 0) {\n      const formDataZip = new FormData();\n      for (let i = 0; i < values.zipUpdate.length; i++) {\n        formDataZip.append('zipUpdate', values.zipUpdate[i]);\n      }\n      formDataZip.append('webId', web_id);\n      await Axios.post(`${API}/zipUpdate`, formDataZip).then((data) => {\n        init();\n      });\n    }\n    if (deleteFiles.length > 0) {\n      await Axios.post(`${API}/deleteImage`, {\n        deleteFiles,\n      }).then((data) => {});\n    }\n    if (deleteZip.length > 0) {\n      await Axios.post(`${API}/deleteZip`, { deleteZip }).then((data) => {});\n    }\n  };\n\n  const handleFiles = (event) => {\n    event.preventDefault();\n    setValues({ ...values, fileUpdate: event.target.files });\n    const total_file = document.getElementById('image').files.length;\n    for (let i = 0; i < total_file; i++) {\n      const img = document.createElement('img');\n      img.setAttribute('id', 'imgPre');\n      img.style.width = '150px';\n      img.src = URL.createObjectURL(event.target.files[i]);\n      const imgId = document.getElementById('image_preview');\n      imgId.appendChild(img);\n    }\n    console.log(fileUpdate);\n  };\n\n  const handleZips = (event) => {\n    event.preventDefault();\n    setValues({ ...values, zipUpdate: event.target.files });\n  };\n\n  const init = async () => {\n    const webId = match.params.webId;\n\n    await Axios.post(`${API}/data`, { web_id: webId }).then((result) => {\n      const { data } = result;\n      const [{ web_id, web_name, web_url, web_details }] = data;\n      const imageArray = [];\n      data.map((image) => {\n        imageArray.push(image.img_path);\n      });\n\n      const zipArray = [];\n      data.map((zip) => {\n        zipArray.push(zip.zip_path);\n      });\n\n      const imageSet = [...new Set(imageArray)];\n      const zipSet = [...new Set(zipArray)];\n\n      console.log(zipSet);\n\n      setValues({\n        ...values,\n        web_id,\n        web_name,\n        web_url,\n        web_details,\n        files: imageSet,\n        fileUpdate: '',\n        zips: zipSet.filter((zip) => zip != null),\n      });\n    });\n  };\n\n  console.log(values);\n\n  const handleFileDelete = (file) => {\n    const index = files.indexOf(file);\n    deleteFiles.push(file);\n    if (index !== -1) {\n      files.splice(index, 1);\n    }\n    console.log(deleteFiles);\n\n    // const d = document.getElementById(file);\n    // d.parentNode.removeChild(d);\n    setValues({ ...values, files: files });\n  };\n\n  const handleZipDelete = (zipFile) => {\n    const index = zips.indexOf(zipFile);\n    deleteZip.push(zipFile);\n    if (index !== -1) {\n      zips.splice(index, 1);\n    }\n    console.log(zips);\n    console.log(deleteZip);\n    setValues({ ...values, zips: zips });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <div>\n      <MaterialNavbar />\n      <div className=\"m-4\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">\n            <form onSubmit={submitForm} encType=\"multipart/form-data\">\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\n                  ไอดีเว็บ\n                </label>\n                <input\n                  type=\"text\"\n                  disabled\n                  name=\"w_name\"\n                  id=\"w_name\"\n                  className=\"form-control\"\n                  value={web_id}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputName\" className=\"form-label\">\n                  ชื่อเว็บไซต์\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"w_name\"\n                  id=\"w_name\"\n                  className=\"form-control\"\n                  value={web_name}\n                  required\n                  onChange={(e) =>\n                    setValues({ ...values, web_name: e.target.value })\n                  }\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleInputLinkURL\" className=\"form-label\">\n                  Link URL\n                </label>\n                <input\n                  type=\"url\"\n                  name=\"w_url\"\n                  id=\"w_url\"\n                  className=\"form-control\"\n                  required\n                  value={web_url}\n                  onChange={(e) =>\n                    setValues({ ...values, web_url: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"formFile\" className=\"form-label\">\n                  รูปภาพ\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"image\"\n                  name=\"image\"\n                  className=\"form-control\"\n                  multiple\n                  onChange={handleFiles}\n                  accept=\"image/*\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"formFile\" className=\"form-label\">\n                  Zip\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"zip\"\n                  name=\"zip\"\n                  className=\"form-control\"\n                  multiple\n                  onChange={handleZips}\n                  accept=\".zip,.rar,.7zip\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label\n                  htmlFor=\"exampleFormControlTextarea1\"\n                  className=\"form-label\"\n                >\n                  คำอธิบาย\n                </label>\n                <textarea\n                  input\n                  type=\"text\"\n                  name=\"w_details\"\n                  id=\"w_details\"\n                  className=\"form-control\"\n                  required\n                  value={web_details}\n                  onChange={(e) =>\n                    setValues({\n                      ...values,\n                      web_details: e.target.value,\n                    })\n                  }\n                ></textarea>\n              </div>\n              <input\n                className=\"btn btn-success\"\n                style={{ marginRight: '5px' }}\n                value=\"อัพเดต\"\n                type=\"submit\"\n              />\n              <Link to=\"/preview\">\n                <button className=\"btn btn-primary\">ดูข้อมูลทั้งหมด</button>\n              </Link>\n            </form>\n          </div>\n          <div id=\"image_preview\" className=\"col-md-7 mt-3\">\n            <div className={classes.root}>\n              <AppBar position=\"static\">\n                <Tabs\n                  value={value}\n                  onChange={handleChange}\n                  aria-label=\"simple tabs example\"\n                >\n                  <Tab label=\"Image\" {...a11yProps(0)} />\n                  <Tab label=\"Zip\" {...a11yProps(1)} />\n                </Tabs>\n              </AppBar>\n              <TabPanel value={value} index={0}>\n                <div className=\"m-5\">\n                  {files[0] !== null ? (\n                    <>\n                      {files.map((f, i) => (\n                        <>\n                          <div\n                            className=\"ml-2\"\n                            style={{\n                              position: 'relative',\n                              display: 'inline-block',\n                            }}\n                          >\n                            <div\n                              className=\"deleteImg\"\n                              id={f}\n                              onClick={() => handleFileDelete(f)}\n                              style={{\n                                position: 'absolute',\n                                backgroundColor: 'orange',\n                                width: '25px',\n                                right: '0',\n                                color: 'white',\n                                textAlign: 'center',\n                                marginRight: '4px',\n                                cursor: 'pointer',\n                              }}\n                            >\n                              <CloseIcon />\n                            </div>\n                            <img\n                              key={i}\n                              id={f}\n                              src={`${process.env.PUBLIC_URL}/assets/${f}`}\n                              style={{\n                                width: '150px',\n                                height: '150px',\n                              }}\n                              className=\"mr-1 mb-1\"\n                            />\n                          </div>\n                        </>\n                      ))}\n                    </>\n                  ) : (\n                    <Fragment> </Fragment>\n                  )}\n                </div>\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <div className=\"my-3\">\n                  {zips[0] !== null\n                    ? zips.map((z, i) => (\n                        <div\n                          key={i}\n                          id=\"zipload\"\n                          className=\"zipload text-center mr-2 p-5 mb-2\"\n                          style={{\n                            display: 'inline-block',\n                            backgroundColor: 'rgb(249 249 249)',\n                            borderRadius: '10px',\n                            position: 'relative',\n                          }}\n                        >\n                          <div\n                            id={z}\n                            className=\"deleteImg\"\n                            onClick={() => handleZipDelete(z)}\n                            style={{\n                              position: 'absolute',\n                              backgroundColor: 'orange',\n                              width: '25px',\n                              top: 0,\n                              right: '0',\n                              color: 'white',\n                              textAlign: 'center',\n                              cursor: 'pointer',\n                            }}\n                          >\n                            <CloseIcon />\n                          </div>\n                          <img\n                            src={`${process.env.PUBLIC_URL}/icons/zip.svg`}\n                            style={{ maxWidth: '50px' }}\n                            onClick={() =>\n                              window.open(`${process.env.PUBLIC_URL}/zip/${z}`)\n                            }\n                            type=\"submit\"\n                          />\n                          <h6\n                            className=\"mt-2\"\n                            style={{ display: 'inline-block' }}\n                          >\n                            {z.slice(0, 10).toLowerCase()}\n                          </h6>\n                        </div>\n                      ))\n                    : 'ไม่มีการอัพโหลด'}\n                </div>\n              </TabPanel>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Edit;\n","import React, { useState, useEffect } from 'react';\nimport { API } from '../config';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport MaterialNavbar from '../componenets/MaterialNavbar';\nimport { toast } from 'react-toastify';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [userLoggedIN, setUserLoggedIN] = useState('');\n  const [logged, setLogged] = useState(false);\n\n  Axios.defaults.withCredentials = true;\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    Axios.post(`${API}/login`, {\n      username: username,\n      password: password,\n    }).then((response) => {\n      console.log(response);\n      if (!response.data.auth) {\n        setLogged(false);\n        toast.error(response.data.message);\n      } else {\n        localStorage.setItem('token', JSON.stringify(response.data));\n        setLogged(true);\n      }\n    });\n  };\n\n  const RedirectTo = () => {\n    if (logged) {\n      return <Redirect to=\"/insert\" />;\n    }\n  };\n\n  useEffect(() => {\n    Axios.get(`${API}/login`).then((response) => {\n      console.log(response);\n      if (response.data.loggedIn === true) {\n        setLogged(true);\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <MaterialNavbar />\n      <div className=\"container mt-5 w-50 justify-content-center align-items-center\">\n        {RedirectTo()}\n        <form>\n          <div class=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Username</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              autoFocus\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div class=\"form-group\">\n            <label htmlFor=\"exampleInputPassword1\">Password</label>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              id=\"exampleInputPassword1\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <button onClick={(e) => handleSubmit(e)} class=\"btn btn-primary\">\n            Submit\n          </button>\n          <h1>{userLoggedIN}</h1>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from './index';\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      isAuthenticated().auth ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n      )\n    }\n  />\n);\nexport default AdminRoute;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Home from './core/Home';\nimport Preview from './core/Preview';\nimport Image from './core/Image';\nimport Edit from './core/Edit';\nimport Login from './core/Login';\nimport { ToastContainer } from 'react-toastify';\nimport './App.css';\nimport AdminRoute from './auth/AdminRoute';\n\nconst Routes = () => {\n  return (\n    <div>\n      <BrowserRouter>\n        <ToastContainer closeOnClick duration={1000} />\n        <Switch>\n          <Route path=\"/\" exact component={Login} />\n          <AdminRoute path=\"/insert\" exact component={Home} />\n          <AdminRoute path=\"/preview\" exact component={Preview} />\n          <AdminRoute path=\"/image/:webId\" exact component={Image} />\n          <AdminRoute path=\"/edit/:webId\" exact component={Edit} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Route from './Route';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Route />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}